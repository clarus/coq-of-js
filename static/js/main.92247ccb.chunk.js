(this["webpackJsonpcoq-of-js"]=this["webpackJsonpcoq-of-js"]||[]).push([[0],{26:function(e,t,r){e.exports=r(66)},3:function(e,t){},31:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),u=r(22),c=r.n(u),s=(r(31),r(6)),i=r(7),o=r(10),p=r(8),l=r(11),d=r(23),b=r.n(d),y=r(24),m=r(9),f=r.n(m),g=(r(3),r(25));var h=r(1),x=r(0),v=r.n(x);var Y=v.a.mark(j),k=v.a.mark(T),w=v.a.mark(P),E=v.a.mark(I);function j(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}},Y)}function T(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"All",expressions:e};case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},k)}function A(e,t,r){return e.reduce(v.a.mark(function e(t,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.delegateYield(t,"t1",2);case 2:return e.t2=e.t1,e.t3=n,e.delegateYield((0,e.t0)(e.t2,e.t3),"t4",5);case 5:return e.abrupt("return",e.t4);case 6:case"end":return e.stop()}},e)}),j(t))}function O(e,t){return A(e,[],v.a.mark(function e(r,n){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t(n),"t0",1);case 1:return a=e.t0,e.abrupt("return",a?[].concat(Object(h.a)(r),[a]):r);case 3:case"end":return e.stop()}},e)}))}function S(e,t){return A(e,!1,v.a.mark(function e(r,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t0){e.next=4;break}return e.delegateYield(t(n),"t1",3);case 3:e.t0=e.t1;case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e)}))}function P(e,t){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:"Raise",message:t,node:e};case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},w)}function I(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(P(e,"Unhandled syntax:\n".concat(JSON.stringify(e,null,2))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},E)}function D(e,t){var r=e.next(t);if(r.done)return{type:"Success",value:r.value};var n=function(){switch(r.value.type){case"All":return function(e){return e.reduce(function(e,t){switch(e.type){case"Error":switch(t.type){case"Error":return{type:"Error",errors:[].concat(Object(h.a)(e.errors),Object(h.a)(t.errors))};case"Success":return{type:"Error",errors:e.errors};default:return t}case"Success":switch(t.type){case"Error":return{type:"Error",errors:t.errors};case"Success":return{type:"Success",value:[].concat(Object(h.a)(e.value),[t.value])};default:return t}default:return e}},{type:"Success",value:[]})}(r.value.expressions.map(function(e){return D(e)}));case"Raise":return{type:"Error",errors:[{location:r.value.node.loc,message:r.value.message}]};default:return r.value}}();switch(n.type){case"Error":return n;case"Success":return D(e,n.value);default:return n}}var q=f.a.builders,C=q.concat,R=q.group,N=q.hardline,L=q.indent,U=q.join,B=q.line,V=q.softline;function F(e,t){return e?R(C(["(",t,")"])):t}var J=r(4),M={Props:"_Props"};function W(e){var t=e.name;return M[t]||t}function _(e,t){return e.reduce(function(e,r){var n=t(r);return n?[].concat(Object(h.a)(e),[n]):e},[])}var G=v.a.mark(K),Z=v.a.mark($),z=v.a.mark(X),H=v.a.mark(ee);function K(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="Identifier"===t.t0?3:"StringLiteral"===t.t0?4:5;break;case 3:return t.abrupt("return",W(e));case 4:return t.abrupt("return",e.value);case 5:return t.delegateYield(P(e,"Computed key name not handled"),"t1",6);case 6:return t.abrupt("return",t.t1);case 7:case"end":return t.stop()}},G)}function Q(e){switch(e.type){case"Identifier":return W(e);case"QualifiedTypeIdentifier":return"".concat(Q(e.qualification),".").concat(W(e.id));default:return e}}function $(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="GenericTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",Q(e.id));case 4:return t.delegateYield(P(e,"Expected a type identifier"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},Z)}function X(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="AnyTypeAnnotation"===t.t0?3:"ArrayTypeAnnotation"===t.t0?5:"BooleanLiteralTypeAnnotation"===t.t0?10:"BooleanTypeAnnotation"===t.t0?12:"EmptyTypeAnnotation"===t.t0?13:"ExistsTypeAnnotation"===t.t0?14:"FunctionTypeAnnotation"===t.t0?15:"GenericTypeAnnotation"===t.t0?22:"InterfaceTypeAnnotation"===t.t0?23:"IntersectionTypeAnnotation"===t.t0?25:"MixedTypeAnnotation"===t.t0?27:"NullableTypeAnnotation"===t.t0?29:"NullLiteralTypeAnnotation"===t.t0?34:"NumberLiteralTypeAnnotation"===t.t0?35:"NumberTypeAnnotation"===t.t0?37:"ObjectTypeAnnotation"===t.t0?38:"StringLiteralTypeAnnotation"===t.t0?41:"StringTypeAnnotation"===t.t0?42:"ThisTypeAnnotation"===t.t0?43:"TupleTypeAnnotation"===t.t0?45:"TypeofTypeAnnotation"===t.t0?52:"UnionTypeAnnotation"===t.t0?54:"VoidTypeAnnotation"===t.t0?55:56;break;case 3:return t.delegateYield(P(e,"The type `any` is not handled"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.delegateYield(ee(e.elementType),"t2",6);case 6:return t.t3=t.t2,t.t4=[t.t3],t.t5={type:"Variable",name:"list",params:t.t4},t.abrupt("return",{type:"PlainTyp",typ:t.t5});case 10:return t.delegateYield(P(e,"Boolean literals in types are not handled"),"t6",11);case 11:return t.abrupt("return",t.t6);case 12:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"bool",params:[]}});case 13:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"Empty_set",params:[]}});case 14:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Implicit"}});case 15:return t.delegateYield(T(e.params.map(function(e){return ee(e.typeAnnotation)})),"t7",16);case 16:return t.t8=t.t7,t.delegateYield(ee(e.returnType),"t9",18);case 18:return t.t10=t.t9,t.t11=e.typeParameters?_(e.typeParameters.params,function(e){return e.name}):[],t.t12={type:"Function",params:t.t8,returnTyp:t.t10,typParams:t.t11},t.abrupt("return",{type:"PlainTyp",typ:t.t12});case 22:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:Q(e.id),params:[]}});case 23:return t.delegateYield(P(e,"Interface types are not handled"),"t13",24);case 24:return t.abrupt("return",t.t13);case 25:return t.delegateYield(P(e,"Intersection types are not handled"),"t14",26);case 26:return t.abrupt("return",t.t14);case 27:return t.delegateYield(P(e,"The type `mixed` is not handled"),"t15",28);case 28:return t.abrupt("return",t.t15);case 29:return t.delegateYield(ee(e.typeAnnotation),"t16",30);case 30:return t.t17=t.t16,t.t18=[t.t17],t.t19={type:"Variable",name:"option",params:t.t18},t.abrupt("return",{type:"PlainTyp",typ:t.t19});case 34:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"unit",params:[]}});case 35:return t.delegateYield(P(e,"Number literals in types are not handled"),"t20",36);case 36:return t.abrupt("return",t.t20);case 37:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"Z",params:[]}});case 38:if(0!==e.properties.length){t.next=40;break}return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"unit",params:[]}});case 40:case 41:return t.abrupt("return",{type:"Rest",typ:e});case 42:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"string",params:[]}});case 43:return t.delegateYield(P(e,"The type `this` is not handled"),"t21",44);case 44:return t.abrupt("return",t.t21);case 45:if(1!==e.types.length){t.next=48;break}return t.delegateYield(P(e,"Tuple types with exactly one element are not handled"),"t22",47);case 47:return t.abrupt("return",t.t22);case 48:return t.delegateYield(T(e.types.map(function(e){return ee(e)})),"t23",49);case 49:return t.t24=t.t23,t.t25={type:"Tuple",params:t.t24},t.abrupt("return",{type:"PlainTyp",typ:t.t25});case 52:return t.delegateYield(P(e,"Extracting the type of values with `typeof` is not handled"),"t26",53);case 53:return t.abrupt("return",t.t26);case 54:return t.abrupt("return",{type:"Rest",typ:e});case 55:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"unit",params:[]}});case 56:return t.abrupt("return",e);case 57:case"end":return t.stop()}},z)}function ee(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(X(e),"t0",1);case 1:t=r.t0,r.t1=t.type,r.next="PlainTyp"===r.t1?5:"Rest"===r.t1?6:16;break;case 5:return r.abrupt("return",t.typ);case 6:r.t2=t.typ.type,r.next="ObjectTypeAnnotation"===r.t2?9:"StringLiteralTypeAnnotation"===r.t2?11:"UnionTypeAnnotation"===r.t2?13:15;break;case 9:return r.delegateYield(P(t.typ,"This kind of object type is not handled outside of type definitions"),"t3",10);case 10:return r.abrupt("return",r.t3);case 11:return r.delegateYield(P(t.typ,"String literal types are not handled outside of type definitions"),"t4",12);case 12:return r.abrupt("return",r.t4);case 13:return r.delegateYield(P(t.typ,"Union types are not handled outside of type definitions"),"t5",14);case 14:return r.abrupt("return",r.t5);case 15:return r.abrupt("return",t.typ);case 16:return r.abrupt("return",t);case 17:case"end":return r.stop()}},H)}function te(e){return R(C(["{",L(C([V,U(B,e),B,R(C([":",B,"Type"]))])),V,"}"]))}function re(e,t){switch(t.type){case"Function":return F(e,R(C([].concat(Object(h.a)(0!==t.typParams.length?[R(C(["forall",B,"{",L(R(C([V].concat(Object(h.a)(t.typParams.map(function(e){return C([e,B])})),[R(C([":",B,"Type"]))])))),V,"}",",",B]))]:[]),Object(h.a)(t.params.map(function(e){return R(C([re(!0,e),B,"->",B]))})),[re(!0,t.returnTyp)]))));case"Implicit":return"_";case"Tuple":switch(t.params.length){case 0:return"unit";default:return F(e,R(U(C([B,"*",B]),t.params.map(function(e){return re(!0,e)}))))}case"Variable":return F(e&&0!==t.params.length,R(C([t.name,L(C(t.params.map(function(e){return C([B,re(!0,e)])})))])));default:return t}}var ne=v.a.mark(de),ae=v.a.mark(be),ue=v.a.mark(ye),ce=v.a.mark(me),se=v.a.mark(ge),ie=v.a.mark(he),oe=v.a.mark(xe),pe=v.a.mark(ve),le={type:"Variable",name:"tt"};function de(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(K(e.key),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},ne)}function be(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(T(e.properties.map(v.a.mark(function e(t){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectProperty"===e.t0?3:"RestElement"===e.t0?13:15;break;case 3:e.t1=t.value.type,e.next="Identifier"===e.t1?6:11;break;case 6:return r=t.value,e.delegateYield(de(t),"t2",8);case 8:return e.t3=e.t2,e.t4=W(r),e.abrupt("return",{name:e.t3,variable:e.t4});case 11:return e.delegateYield(P(t.value,"Expected an identifier"),"t5",12);case 12:return e.abrupt("return",e.t5);case 13:return e.delegateYield(P(t,"Unhandled rest element for record destructuring"),"t6",14);case 14:return e.abrupt("return",e.t6);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},ae)}function ye(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="ArrayPattern"===n.t0?3:"AssignmentPattern"===n.t0?5:"Identifier"===n.t0?7:"MemberExpression"===n.t0?8:"ObjectPattern"===n.t0?10:"RestElement"===n.t0?21:23;break;case 3:return n.delegateYield(P(e,"Unhandled array patterns"),"t1",4);case 4:return n.abrupt("return",n.t1);case 5:return n.delegateYield(P(e,"Unexpected assignment patterns"),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:return n.abrupt("return",{type:"Variable",name:W(e)});case 8:return n.delegateYield(P(e,"Unexpected member access"),"t3",9);case 9:return n.abrupt("return",n.t3);case 10:if(!e.typeAnnotation){n.next=15;break}return n.delegateYield($(e.typeAnnotation.typeAnnotation),"t5",12);case 12:n.t4=n.t5,n.next=17;break;case 15:return n.delegateYield(P(e,"Expected a type annotation for record destructuring"),"t6",16);case 16:n.t4=n.t6;case 17:return t=n.t4,n.delegateYield(be(e),"t7",19);case 19:return r=n.t7,n.abrupt("return",{type:"Record",fields:r,record:t});case 21:return n.delegateYield(P(e,"Unexpected rest elements"),"t8",22);case 22:return n.abrupt("return",n.t8);case 23:return n.abrupt("return",e);case 24:case"end":return n.stop()}},ue)}function me(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteral"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(P(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},ce)}function fe(e){if(e.length>=1){var t=e[0];switch(t.type){case"BlockStatement":return fe(t.body);case"ReturnStatement":if(t.argument)switch(t.argument.type){case"TypeCastExpression":switch(t.argument.typeAnnotation.typeAnnotation.type){case"EmptyTypeAnnotation":return!0;default:return!1}default:return!1}return!1;default:return!1}}return!1}function ge(e,t){var r,n,a,u;return v.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r={fields:[],trailingStatements:e},0!==e.length){c.next=3;break}return c.abrupt("return",r);case 3:n=e[0],c.t0=n.type,c.next="BlockStatement"===c.t0?7:"VariableDeclaration"===c.t0?9:30;break;case 7:return c.delegateYield(ge([].concat(Object(h.a)(n.body),Object(h.a)(e.slice(1))),t),"t1",8);case 8:return c.abrupt("return",c.t1);case 9:if(1===n.declarations.length){c.next=12;break}return c.delegateYield(P(n,"Expected a single definition of variable"),"t2",11);case 11:return c.abrupt("return",c.t2);case 12:if(!(a=n.declarations[0]).init){c.next=29;break}c.t3=a.init.type,c.next="Identifier"===c.t3?17:28;break;case 17:if(a.init.name!==t){c.next=27;break}c.t4=a.id.type,c.next="ObjectPattern"===c.t4?22:25;break;case 22:return c.delegateYield(be(a.id),"t5",23);case 23:return u=c.t5,c.abrupt("return",{fields:u,trailingStatements:e.slice(1)});case 25:return c.delegateYield(P(a.id,"Expected an object pattern to destructure a sum type"),"t6",26);case 26:return c.abrupt("return",c.t6);case 27:case 28:case 29:case 30:return c.abrupt("return",r);case 31:case"end":return c.stop()}},se)}function he(e){var t,r,n,a,u,c,s,i,o,p,l,d,b;return v.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(0!==e.length){y.next=2;break}return y.abrupt("return",le);case 2:t=e[0],y.t0=t.type,y.next="BlockStatement"===y.t0?6:"ReturnStatement"===y.t0?8:"SwitchStatement"===y.t0?15:"VariableDeclaration"===y.t0?66:83;break;case 6:return y.delegateYield(he([].concat(Object(h.a)(t.body),Object(h.a)(e.slice(1)))),"t1",7);case 7:return y.abrupt("return",y.t1);case 8:if(!t.argument){y.next=13;break}return y.delegateYield(ve(t.argument),"t3",10);case 10:y.t2=y.t3,y.next=14;break;case 13:y.t2=le;case 14:return y.abrupt("return",y.t2);case 15:if(r=t.discriminant,n=t.cases,!r.trailingComments||0===r.trailingComments.length){y.next=20;break}y.t4=r.trailingComments[0].value.trim(),y.next=22;break;case 20:return y.delegateYield(P(r,"Expected a trailing comment with the type name on which we discriminate"),"t5",21);case 21:y.t4=y.t5;case 22:a=y.t4,y.t6=r.type,y.next="MemberExpression"===y.t6?26:51;break;case 26:return y.delegateYield(K(r.property),"t7",27);case 27:if("type"===y.t7){y.next=31;break}return y.delegateYield(P(r.property,"Expected an access on the `type` field to destructure a sum type"),"t8",30);case 30:return y.abrupt("return",y.t8);case 31:u=r.object,y.t9=u.type,y.next="Identifier"===y.t9?35:49;break;case 35:return c=u.name,y.delegateYield(O(n,v.a.mark(function e(t){var r,n,a,u,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.consequent,n=t.test){e.next=3;break}return e.abrupt("return",null);case 3:return e.delegateYield(ge(r,c),"t0",4);case 4:return a=e.t0,u=a.fields,s=a.trailingStatements,e.delegateYield(he(s),"t1",8);case 8:return e.t2=e.t1,e.t3=u,e.delegateYield(me(n),"t4",11);case 11:return e.t5=e.t4,e.abrupt("return",{body:e.t2,fields:e.t3,name:e.t5});case 13:case"end":return e.stop()}},e)})),"t10",37);case 37:if(s=y.t10,i=n.find(function(e){return!e.test&&!fe(e.consequent)})||null,y.t11=s,y.t12=i,!y.t12){y.next=44;break}return y.delegateYield(he(i.consequent),"t13",43);case 43:y.t12=y.t13;case 44:return y.t14=y.t12,y.delegateYield(ve(u),"t15",46);case 46:return y.t16=y.t15,y.t17=a,y.abrupt("return",{type:"SumDestruct",branches:y.t11,defaultBranch:y.t14,discriminant:y.t16,sum:y.t17});case 49:return y.delegateYield(P(u,"Expected a switch on an identifier to destructure a sum type"),"t18",50);case 50:return y.abrupt("return",y.t18);case 51:return y.delegateYield(A(n,{accumulatedNames:[],branches:[]},v.a.mark(function e(t,r){var n,a,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.accumulatedNames,a=t.branches,r.test){e.next=3;break}return e.abrupt("return",{accumulatedNames:[],branches:a});case 3:return e.delegateYield(me(r.test),"t0",4);case 4:if(u=e.t0,c=[].concat(Object(h.a)(n),[u]),0!==r.consequent.length){e.next=8;break}return e.abrupt("return",{accumulatedNames:c,branches:a});case 8:return e.t1=[],e.t2=[],e.t3=Object(h.a)(a),e.delegateYield(he(r.consequent),"t4",12);case 12:return e.t5=e.t4,e.t6=c,e.t7={body:e.t5,names:e.t6},e.t8=[e.t7],e.t9=e.t2.concat.call(e.t2,e.t3,e.t8),e.abrupt("return",{accumulatedNames:e.t1,branches:e.t9});case 18:case"end":return e.stop()}},e)})),"t19",52);case 52:if(o=y.t19,p=o.accumulatedNames,l=o.branches,d=n.find(function(e){return!e.test&&!fe(e.consequent)})||null,y.t20=[].concat(Object(h.a)(l),Object(h.a)(0!==p.length?[{body:le,names:p}]:[])),y.t21=d,!y.t21){y.next=61;break}return y.delegateYield(he(d.consequent),"t22",60);case 60:y.t21=y.t22;case 61:return y.t23=y.t21,y.delegateYield(ve(r),"t24",63);case 63:return y.t25=y.t24,y.t26=a,y.abrupt("return",{type:"EnumDestruct",branches:y.t20,defaultBranch:y.t23,discriminant:y.t25,typName:y.t26});case 66:if(1===t.declarations.length){y.next=69;break}return y.delegateYield(P(t,"Expected exactly one definition"),"t27",68);case 68:return y.abrupt("return",y.t27);case 69:return b=t.declarations[0],y.delegateYield(he(e.slice(1)),"t28",71);case 71:return y.t29=y.t28,y.delegateYield(ye(b.id),"t30",73);case 73:if(y.t31=y.t30,!b.init){y.next=79;break}return y.delegateYield(ve(b.init),"t33",76);case 76:y.t32=y.t33,y.next=81;break;case 79:return y.delegateYield(P(b,"Expected a definition with a value"),"t34",80);case 80:y.t32=y.t34;case 81:return y.t35=y.t32,y.abrupt("return",{type:"Let",body:y.t29,lval:y.t31,value:y.t35});case 83:return y.delegateYield(I(t),"t36",84);case 84:return y.abrupt("return",y.t36);case 85:case"end":return y.stop()}},ie)}function xe(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.returnType?e.returnType.typeAnnotation:null,r.delegateYield(T(e.params.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="Identifier"===e.t0?3:12;break;case 3:if(e.t1=t.name,!t.typeAnnotation){e.next=9;break}return e.delegateYield(ee(t.typeAnnotation.typeAnnotation),"t3",6);case 6:e.t2=e.t3,e.next=10;break;case 9:e.t2=null;case 10:return e.t4=e.t2,e.abrupt("return",{name:e.t1,typ:e.t4});case 12:return e.delegateYield(P(t,"Expected simple identifier as function parameter"),"t5",13);case 13:return e.abrupt("return",e.t5);case 14:case"end":return e.stop()}},e)}))),"t0",2);case 2:if(r.t1=r.t0,"BlockStatement"!==e.body.type){r.next=8;break}return r.delegateYield(he(e.body.body),"t3",5);case 5:r.t2=r.t3,r.next=10;break;case 8:return r.delegateYield(ve(e.body),"t4",9);case 9:r.t2=r.t4;case 10:if(r.t5=r.t2,r.t6=t,!r.t6){r.next=15;break}return r.delegateYield(ee(t),"t7",14);case 14:r.t6=r.t7;case 15:return r.t8=r.t6,r.t9=e.typeParameters?_(e.typeParameters.params,function(e){return e.name}):[],r.abrupt("return",{arguments:r.t1,body:r.t5,returnTyp:r.t8,typParameters:r.t9});case 18:case"end":return r.stop()}},oe)}function ve(e){var t,r,n,a,u,c,s,i,o,p,l,d;return v.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:b.t0=e.type,b.next="ArrayExpression"===b.t0?3:"ArrowFunctionExpression"===b.t0?12:"BinaryExpression"===b.t0?15:"BooleanLiteral"===b.t0?21:"CallExpression"===b.t0?22:"ConditionalExpression"===b.t0?27:"FunctionExpression"===b.t0?34:"Identifier"===b.t0?37:"LogicalExpression"===b.t0?38:"MemberExpression"===b.t0?44:"NullLiteral"===b.t0?59:"NumericLiteral"===b.t0?60:"ObjectExpression"===b.t0?61:"ParenthesizedExpression"===b.t0?65:"StringLiteral"===b.t0?67:"TypeCastExpression"===b.t0?68:"UnaryExpression"===b.t0?103:107;break;case 3:if(!e.elements){b.next=8;break}return b.delegateYield(T(e.elements.map(v.a.mark(function t(r){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return t.delegateYield(P(e,"Expected non-empty elements in the array"),"t0",2);case 2:return t.abrupt("return",t.t0);case 3:if("SpreadElement"!==r.type){t.next=6;break}return t.delegateYield(P(r,"Spreads in arrays are not handled"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:return t.delegateYield(ve(r),"t2",7);case 7:return t.abrupt("return",t.t2);case 8:case"end":return t.stop()}},t)}))),"t2",5);case 5:b.t1=b.t2,b.next=10;break;case 8:return b.delegateYield(P(e,"Unexpected empty array expression"),"t3",9);case 9:b.t1=b.t3;case 10:return b.t4=b.t1,b.abrupt("return",{type:"ArrayExpression",elements:b.t4});case 12:return b.delegateYield(xe(e),"t5",13);case 13:return b.t6=b.t5,b.abrupt("return",{type:"FunctionExpression",value:b.t6});case 15:return b.delegateYield(ve(e.left),"t7",16);case 16:return b.t8=b.t7,b.t9=e.operator,b.delegateYield(ve(e.right),"t10",19);case 19:return b.t11=b.t10,b.abrupt("return",{type:"BinaryExpression",left:b.t8,operator:b.t9,right:b.t11});case 21:return b.abrupt("return",{type:"Constant",value:e.value});case 22:return b.delegateYield(T(e.arguments.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ArgumentPlaceholder"===e.t0?3:"SpreadElement"===e.t0?5:7;break;case 3:return e.delegateYield(P(t,"Unhandled partial application"),"t1",4);case 4:return e.abrupt("return",e.t1);case 5:return e.delegateYield(P(t,"Unhandled spread parameters"),"t2",6);case 6:return e.abrupt("return",e.t2);case 7:return e.delegateYield(ve(t),"t3",8);case 8:return e.abrupt("return",e.t3);case 9:case"end":return e.stop()}},e)}))),"t12",23);case 23:return b.t13=b.t12,b.delegateYield(ve(e.callee),"t14",25);case 25:return b.t15=b.t14,b.abrupt("return",{type:"CallExpression",arguments:b.t13,callee:b.t15});case 27:return b.delegateYield(ve(e.alternate),"t16",28);case 28:return b.t17=b.t16,b.delegateYield(ve(e.consequent),"t18",30);case 30:return b.t19=b.t18,b.delegateYield(ve(e.test),"t20",32);case 32:return b.t21=b.t20,b.abrupt("return",{type:"ConditionalExpression",alternate:b.t17,consequent:b.t19,test:b.t21});case 34:return b.delegateYield(xe(e),"t22",35);case 35:return b.t23=b.t22,b.abrupt("return",{type:"FunctionExpression",value:b.t23});case 37:return b.abrupt("return",{type:"Variable",name:e.name});case 38:return b.delegateYield(ve(e.left),"t24",39);case 39:return b.t25=b.t24,b.t26=e.operator,b.delegateYield(ve(e.right),"t27",42);case 42:return b.t28=b.t27,b.abrupt("return",{type:"BinaryExpression",left:b.t25,operator:b.t26,right:b.t28});case 44:b.t29=e.object.type,b.next="TypeCastExpression"===b.t29?47:57;break;case 47:return t=e.object,r=t.expression,n=t.typeAnnotation,b.delegateYield($(n.typeAnnotation),"t30",49);case 49:return a=b.t30,b.delegateYield(K(e.property),"t31",51);case 51:return u=b.t31,b.t32=u,b.delegateYield(ve(r),"t33",54);case 54:return b.t34=b.t33,b.t35=a,b.abrupt("return",{type:"RecordProjection",field:b.t32,object:b.t34,record:b.t35});case 57:return b.delegateYield(P(e.object,"Expected a type annotation on this object to access a member"),"t36",58);case 58:return b.abrupt("return",b.t36);case 59:return b.abrupt("return",le);case 60:return b.abrupt("return",{type:"Constant",value:e.value});case 61:if(0!==e.properties.length){b.next=63;break}return b.abrupt("return",le);case 63:return b.delegateYield(P(e,"Unhandled object expression without type annotation"),"t37",64);case 64:return b.abrupt("return",b.t37);case 65:return b.delegateYield(ve(e.expression),"t38",66);case 66:return b.abrupt("return",b.t38);case 67:return b.abrupt("return",{type:"Constant",value:e.value});case 68:b.t39=e.expression.type,b.next="ObjectExpression"===b.t39?71:"StringLiteral"===b.t39?93:98;break;case 71:return b.delegateYield(A(e.expression.properties,[[],[],[]],v.a.mark(function e(t,r){var n,a,u,c,s,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(J.a)(t,3),a=n[0],u=n[1],c=n[2],e.t0=r.type,e.next="ObjectMethod"===e.t0?4:"ObjectProperty"===e.t0?6:"SpreadElement"===e.t0?33:44;break;case 4:return e.delegateYield(P(r,"Object methods not handled"),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:if(!r.computed){e.next=9;break}return e.delegateYield(P(r.key,"Unhandled computed property name"),"t2",8);case 8:return e.abrupt("return",e.t2);case 9:return e.delegateYield(de(r),"t3",10);case 10:if(s=e.t3,i=r.value,"type"!==s){e.next=22;break}return e.t4=[],e.t5=Object(h.a)(a),e.delegateYield(me(i),"t6",16);case 16:return e.t7=e.t6,e.t8=[e.t7],e.t9=e.t4.concat.call(e.t4,e.t5,e.t8),e.t10=u,e.t11=c,e.abrupt("return",[e.t9,e.t10,e.t11]);case 22:return e.t12=a,e.t13=[],e.t14=Object(h.a)(u),e.t15=s,e.delegateYield(ve(i),"t16",27);case 27:return e.t17=e.t16,e.t18={name:e.t15,value:e.t17},e.t19=[e.t18],e.t20=e.t13.concat.call(e.t13,e.t14,e.t19),e.t21=c,e.abrupt("return",[e.t12,e.t20,e.t21]);case 33:if(0===a.length&&0===u.length){e.next=35;break}return e.delegateYield(P(r,"Spread element must be the first element of the object"),"t22",35);case 35:return e.t23=a,e.t24=u,e.t25=[],e.t26=Object(h.a)(c),e.delegateYield(ve(r.argument),"t27",40);case 40:return e.t28=e.t27,e.t29=[e.t28],e.t30=e.t25.concat.call(e.t25,e.t26,e.t29),e.abrupt("return",[e.t23,e.t24,e.t30]);case 44:return e.abrupt("return",r);case 45:case"end":return e.stop()}},e)})),"t40",72);case 72:return c=b.t40,s=Object(J.a)(c,3),i=s[0],o=s[1],p=s[2],b.delegateYield($(e.typeAnnotation.typeAnnotation),"t41",78);case 78:if(l=b.t41,!(i.length>=2)){b.next=82;break}return b.delegateYield(P(e.expression,"Ambiguous multiple `type` fields"),"t42",81);case 81:return b.abrupt("return",b.t42);case 82:if(!(p.length>=2)){b.next=85;break}return b.delegateYield(P(e.expression,"At most one spread element per object is handled, found ".concat(p.length)),"t43",84);case 84:return b.abrupt("return",b.t43);case 85:if(0!==i.length){b.next=89;break}if(0!==p.length){b.next=88;break}return b.abrupt("return",{type:"RecordInstance",record:l,fields:o});case 88:return b.abrupt("return",o.reduce(function(e,t){return{type:"RecordUpdate",field:t.name,object:e,record:l,update:t.value}},p[0]));case 89:if(0!==p.length){b.next=91;break}return b.abrupt("return",{type:"SumInstance",constr:i[0],fields:o,sum:l});case 91:return b.delegateYield(P(e.expression,"Spread elements in sum types are not handled"),"t44",92);case 92:return b.abrupt("return",b.t44);case 93:return d=e.expression.value,b.t45=d,b.delegateYield($(e.typeAnnotation.typeAnnotation),"t46",96);case 96:return b.t47=b.t46,b.abrupt("return",{type:"EnumInstance",instance:b.t45,typName:b.t47});case 98:return b.delegateYield(ve(e.expression),"t48",99);case 99:return b.t49=b.t48,b.delegateYield(ee(e.typeAnnotation.typeAnnotation),"t50",101);case 101:return b.t51=b.t50,b.abrupt("return",{type:"TypeCastExpression",expression:b.t49,typeAnnotation:b.t51});case 103:return b.delegateYield(ve(e.argument),"t52",104);case 104:return b.t53=b.t52,b.t54=e.operator,b.abrupt("return",{type:"UnaryExpression",argument:b.t53,operator:b.t54});case 107:return b.delegateYield(I(e),"t55",108);case 108:return b.abrupt("return",b.t55);case 109:case"end":return b.stop()}},pe)}function Ye(e){return C(e.map(function(e){var t=e.name,r=e.typ;return C([B,r?R(C(["(",t,B,":",B,re(!1,r),")"])):t])}))}function ke(e,t,r){return F(e,R(L(U(B,[t].concat(Object(h.a)(r))))))}function we(e,t){return R(C(["{|",L(C(t.map(function(t){var r=t.name,n=t.value;return C([B,R(C([R(C([e?"".concat(e,".").concat(r):r,B,":="])),L(C([B,n,";"]))]))])}))),B,"|}"]))}function Ee(e,t){switch(e.type){case"Record":return 0===e.fields.length?"_":C([].concat(Object(h.a)(t?["'"]:[]),[we(e.record,e.fields.map(function(e){return{name:e.name,value:e.variable}}))]));case"Variable":return e.name;default:return e}}function je(e,t,r,n){return R(C([R(C(["match",B,e,B,"with"])),N].concat(Object(h.a)(t.map(function(e){var t=e.body,r=e.patterns;return R(C([U(B,r.map(function(e){var t=e.fields,r=e.name;return R(C(["|",B,"".concat(n,".").concat(r)].concat(Object(h.a)(t?[B,Ee({type:"Record",fields:t,record:"".concat(n,".").concat(r)},!1)]:[]))))})),B,"=>",L(C([B,t])),N]))})),Object(h.a)(r?[R(C([R(C(["|",B,"_",B,"=>"])),L(C([B,r])),N]))]:[]),["end"])))}function Te(e,t){switch(t.type){case"ArrayExpression":return 0===t.elements.length?"[]":R(C(["[",L(C([B,U(C([";",B]),t.elements.map(function(e){return Te(!1,e)}))])),B,"]"]));case"BinaryExpression":return F(e,R(U(B,[Te(!0,t.left),t.operator,Te(!0,t.right)])));case"CallExpression":return ke(e,Te(!0,t.callee),t.arguments.map(function(e){return Te(!0,e)}));case"ConditionalExpression":return F(e,R(C([R(C(["if",B,Te(!1,t.test),B,"then"])),L(C([B,Te(!1,t.consequent)])),B,"else",L(C([B,Te(!1,t.alternate)]))])));case"Constant":return JSON.stringify(t.value);case"EnumDestruct":var r=t.branches,n=t.defaultBranch,a=t.discriminant,u=t.typName;return je(Te(!1,a),r.map(function(e){var t=e.body,r=e.names;return{body:Te(!1,t),patterns:r.map(function(e){return{fields:null,name:e}})}}),n&&Te(!1,n),u);case"EnumInstance":return"".concat(t.typName,".").concat(t.instance);case"FunctionExpression":return F(e,R(C([R(C(["fun",L(C([].concat(Object(h.a)(0!==t.value.typParameters.length?[B,te(t.value.typParameters)]:[]),[Ye(t.value.arguments)]))),B,"=>"])),L(C([B,Te(!1,t.value.body)]))])));case"Let":return R(C([R(C(["let",B,Ee(t.lval,!0),B,":="])),L(C([B,Te(!1,t.value)])),B,"in",N,Te(!1,t.body)]));case"RecordInstance":return we(t.record,t.fields.map(function(e){return{name:e.name,value:Te(!1,e.value)}}));case"RecordProjection":return R(C([Te(!0,t.object),V,".(",L(R(C([V,t.record,".",t.field]))),V,")"]));case"RecordUpdate":return ke(e,"".concat(t.record,".set_").concat(t.field),[Te(!0,t.object),Te(!0,t.update)]);case"SumDestruct":var c=t.branches,s=t.defaultBranch,i=t.discriminant,o=t.sum;return je(Te(!1,i),c.map(function(e){var t=e.body,r=e.fields,n=e.name;return{body:Te(!1,t),patterns:[{fields:r,name:n}]}}),s&&Te(!1,s),o);case"SumInstance":var p="".concat(t.sum,".").concat(t.constr);return F(e,R(C([p,B].concat(Object(h.a)(0!==t.fields.length?[we(p,t.fields.map(function(e){return{name:e.name,value:Te(!1,e.value)}}))]:["tt"])))));case"TypeCastExpression":return R(C(["(",V,Te(!0,t.expression),B,":",B,re(!1,t.typeAnnotation),V,")"]));case"UnaryExpression":return F(e,R(C([t.operator,B,Te(!0,t.argument)])));case"Variable":return t.name;default:return t}}var Ae=v.a.mark(De),Oe=v.a.mark(qe),Se=v.a.mark(Ce),Pe=v.a.mark(Re),Ie=v.a.mark(Ne);function De(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(K(e.key),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},Ae)}function qe(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteralTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(P(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},Oe)}function Ce(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(T(e.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="StringLiteralTypeAnnotation"===e.t0?3:4;break;case 3:return e.abrupt("return",t.value);case 4:return e.delegateYield(P(t,"Only strings are handled in enums"),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Enum",names:t});case 3:case"end":return r.stop()}},Se)}function Re(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(T(e.map(v.a.mark(function e(t){var r,n,a,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeAnnotation"===e.t0?3:16;break;case 3:return e.delegateYield(A(t.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectTypeProperty"===r.type){e.next=4;break}return e.delegateYield(P(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:return e.delegateYield(De(r),"t1",5);case 5:return c=e.t1,e.abrupt("return","type"===c?[[].concat(Object(h.a)(a),[r]),u]:[a,[].concat(Object(h.a)(u),[r])]);case 7:case"end":return e.stop()}},e)})),"t1",4);case 4:if(r=e.t1,n=Object(J.a)(r,2),a=n[0],u=n[1],0!==a.length){e.next=11;break}return e.delegateYield(P(t,"Expected at least one field with the name `type`"),"t2",10);case 10:return e.abrupt("return",e.t2);case 11:return e.delegateYield(qe(a[0].value),"t3",12);case 12:return e.t4=e.t3,e.delegateYield(T(u.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(De(t),"t0",1);case 1:return e.t1=e.t0,e.delegateYield(ee(t.value),"t2",3);case 3:return e.t3=e.t2,e.abrupt("return",{name:e.t1,typ:e.t3});case 5:case"end":return e.stop()}},e)}))),"t5",14);case 14:return e.t6=e.t5,e.abrupt("return",{name:e.t4,fields:e.t6});case 16:return e.delegateYield(P(t,"Only objects are handled in sum types"),"t7",17);case 17:return e.abrupt("return",e.t7);case 18:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Sum",constructors:t});case 3:case"end":return r.stop()}},Pe)}function Ne(e){var t,r,n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(X(e),"t0",1);case 1:t=a.t0,a.t1=t.type,a.next="PlainTyp"===a.t1?5:"Rest"===a.t1?6:32;break;case 5:return a.abrupt("return",{type:"Synonym",typ:t.typ});case 6:a.t2=t.typ.type,a.next="ObjectTypeAnnotation"===a.t2?9:"StringLiteralTypeAnnotation"===a.t2?18:"UnionTypeAnnotation"===a.t2?20:31;break;case 9:return r=t.typ,a.delegateYield(S(r.properties,v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeProperty"===e.t0?3:6;break;case 3:return e.delegateYield(De(t),"t1",4);case 4:return e.t2=e.t1,e.abrupt("return","type"===e.t2);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),"t3",11);case 11:if(!a.t3){a.next=15;break}return a.delegateYield(Re([r]),"t4",14);case 14:return a.abrupt("return",a.t4);case 15:return a.delegateYield(T(r.properties.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ObjectTypeProperty"===t.type){e.next=3;break}return e.delegateYield(P(t,"Expected named property"),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:return e.delegateYield(De(t),"t1",4);case 4:return e.t2=e.t1,e.delegateYield(ee(t.value),"t3",6);case 6:return e.t4=e.t3,e.abrupt("return",{name:e.t2,typ:e.t4});case 8:case"end":return e.stop()}},e)}))),"t5",16);case 16:return n=a.t5,a.abrupt("return",{type:"Record",fields:n});case 18:return a.delegateYield(Ce([t.typ]),"t6",19);case 19:return a.abrupt("return",a.t6);case 20:if(0!==t.typ.types.length){a.next=22;break}return a.abrupt("return",{type:"Synonym",typ:{type:"Variable",name:"Empty_set",params:[]}});case 22:a.t7=t.typ.types[0].type,a.next="ObjectTypeAnnotation"===a.t7?25:"StringLiteralTypeAnnotation"===a.t7?27:29;break;case 25:return a.delegateYield(Re(t.typ.types),"t8",26);case 26:return a.abrupt("return",a.t8);case 27:return a.delegateYield(Ce(t.typ.types),"t9",28);case 28:return a.abrupt("return",a.t9);case 29:return a.delegateYield(P(t.typ,"Only handle unions of strings or objects with a `type` field"),"t10",30);case 30:return a.abrupt("return",a.t10);case 31:return a.abrupt("return",t.typ);case 32:return a.abrupt("return",t);case 33:case"end":return a.stop()}},Ie)}function Le(e,t){return R(C([R(C(["Module",B,e,"."])),L(C([N,t])),R(C([N,"End",B,e,"."]))]))}function Ue(e,t,r){return C([R(C(["Record",B,"t",B,":=",B,"{"])),L(C(t.map(function(e){var t=e.name,r=e.typ;return C([N,t,B,":",B,re(!1,r),V,";"])}))),N,"}."].concat(Object(h.a)(r?[N,U(N,t.map(function(e){var r=e.name;e.typ;return R(C([R(C(["Definition",B,"set_".concat(r)])),L(R(C([B,"r",B,r,B,":="]))),L(C([B,we(null,t.map(function(e){return{name:e.name,value:e.name===r?r:"r.(".concat(e.name,")")}})),"."]))]))}))]:[])))}function Be(e){return R(C(["Definition",B,e,B,":=",B,"".concat(e,".t"),"."]))}var Ve=v.a.mark(Je),Fe=v.a.mark(Me);function Je(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="ArrayPattern"===t.t0?3:"AssignmentPattern"===t.t0?5:"Identifier"===t.t0?7:"MemberExpression"===t.t0?8:"ObjectPattern"===t.t0?10:"RestElement"===t.t0?12:14;break;case 3:return t.delegateYield(P(e,"Array destructuring at top-level is not allowed due to limitations in Coq"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.delegateYield(P(e,"Unexpected assignement pattern"),"t2",6);case 6:return t.abrupt("return",t.t2);case 7:return t.abrupt("return",e);case 8:return t.delegateYield(P(e,"Unexpected member expression"),"t3",9);case 9:return t.abrupt("return",t.t3);case 10:return t.delegateYield(P(e,"Object destructuring at top-level is not allowed due to limitations in Coq"),"t4",11);case 11:return t.abrupt("return",t.t4);case 12:return t.delegateYield(P(e,"Rest element unexpected outside a pattern"),"t5",13);case 13:return t.abrupt("return",t.t5);case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}},Ve)}function Me(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="BlockStatement"===n.t0?3:"BreakStatement"===n.t0?5:"ClassDeclaration"===n.t0?7:"ContinueStatement"===n.t0?9:"DebuggerStatement"===n.t0?11:"DeclareClass"===n.t0?12:"DeclareExportAllDeclaration"===n.t0?12:"DeclareExportDeclaration"===n.t0?12:"DeclareFunction"===n.t0?12:"DeclareInterface"===n.t0?12:"DeclareModule"===n.t0?12:"DeclareModuleExports"===n.t0?12:"DeclareOpaqueType"===n.t0?12:"DeclareTypeAlias"===n.t0?12:"DeclareVariable"===n.t0?12:"DoWhileStatement"===n.t0?13:"EmptyStatement"===n.t0?15:"ExportAllDeclaration"===n.t0?16:"ExportDefaultDeclaration"===n.t0?18:"ExportNamedDeclaration"===n.t0?20:"ExpressionStatement"===n.t0?28:"ForInStatement"===n.t0?30:"ForOfStatement"===n.t0?32:"ForStatement"===n.t0?34:"FunctionDeclaration"===n.t0?36:"IfStatement"===n.t0?46:"ImportDeclaration"===n.t0?48:"InterfaceDeclaration"===n.t0?52:"LabeledStatement"===n.t0?54:"OpaqueType"===n.t0?56:"ReturnStatement"===n.t0?61:"SwitchStatement"===n.t0?63:"ThrowStatement"===n.t0?65:"TryStatement"===n.t0?67:"TypeAlias"===n.t0?69:"VariableDeclaration"===n.t0?74:"WhileStatement"===n.t0?76:"WithStatement"===n.t0?78:80;break;case 3:return n.delegateYield(P(e,"Blocks are not handled at top-level"),"t1",4);case 4:return n.abrupt("return",n.t1);case 5:return n.delegateYield(P(e,"Unexpected `break` at top-level"),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:return n.delegateYield(P(e,"Class declarations are not handled"),"t3",8);case 8:return n.abrupt("return",n.t3);case 9:return n.delegateYield(P(e,"Unexpected `continue` at top-level"),"t4",10);case 10:return n.abrupt("return",n.t4);case 11:case 12:return n.abrupt("return",[]);case 13:return n.delegateYield(P(e,"Do-while loops are not handled"),"t5",14);case 14:return n.abrupt("return",n.t5);case 15:return n.abrupt("return",[]);case 16:return n.delegateYield(P(e,"Export all are not handled"),"t6",17);case 17:return n.abrupt("return",n.t6);case 18:return n.delegateYield(P(e,"Export default is not handled"),"t7",19);case 19:return n.abrupt("return",n.t7);case 20:if(!e.declaration){n.next=25;break}return n.delegateYield(Me(e.declaration),"t9",22);case 22:n.t8=n.t9,n.next=27;break;case 25:return n.delegateYield(P(e,"This kind of export is not handled"),"t10",26);case 26:n.t8=n.t10;case 27:return n.abrupt("return",n.t8);case 28:return n.delegateYield(P(e,"Top-level expressions are not handled"),"t11",29);case 29:return n.abrupt("return",n.t11);case 30:return n.delegateYield(P(e,"For-in loops are not handled"),"t12",31);case 31:return n.abrupt("return",n.t12);case 32:return n.delegateYield(P(e,"For-of loops are not handled"),"t13",33);case 33:return n.abrupt("return",n.t13);case 34:return n.delegateYield(P(e,"For loops are not handled"),"t14",35);case 35:return n.abrupt("return",n.t14);case 36:return n.delegateYield(xe(e),"t15",37);case 37:if(t=n.t15,!e.id){n.next=42;break}n.t16=e.id.name,n.next=44;break;case 42:return n.delegateYield(P(e,"Expected named function"),"t17",43);case 43:n.t16=n.t17;case 44:return r=n.t16,n.abrupt("return",[{type:"Definition",arguments:t.arguments,body:t.body,name:r,returnTyp:t.returnTyp,typParameters:t.typParameters}]);case 46:return n.delegateYield(P(e,"If at top-level are not handled"),"t18",47);case 47:return n.abrupt("return",n.t18);case 48:if("react"!==e.source.value){n.next=50;break}return n.abrupt("return",[]);case 50:return n.delegateYield(P(e,"Only the imports from React are handled"),"t19",51);case 51:return n.abrupt("return",n.t19);case 52:return n.delegateYield(P(e,"Interface declarations are not handled"),"t20",53);case 53:return n.abrupt("return",n.t20);case 54:return n.delegateYield(P(e,"Labeled statements are not handled"),"t21",55);case 55:return n.abrupt("return",n.t21);case 56:return n.t22=W(e.id),n.delegateYield(Ne(e.impltype),"t23",58);case 58:return n.t24=n.t23,n.t25={type:"TypeDefinition",name:n.t22,typDefinition:n.t24},n.abrupt("return",[n.t25]);case 61:return n.delegateYield(P(e,"Unexpected `return` at top-level"),"t26",62);case 62:return n.abrupt("return",n.t26);case 63:return n.delegateYield(P(e,"Top-level switch are not handled"),"t27",64);case 64:return n.abrupt("return",n.t27);case 65:return n.delegateYield(P(e,"Throw statements are not handled"),"t28",66);case 66:return n.abrupt("return",n.t28);case 67:return n.delegateYield(P(e,"Try statements are not handled"),"t29",68);case 68:return n.abrupt("return",n.t29);case 69:return n.t30=W(e.id),n.delegateYield(Ne(e.right),"t31",71);case 71:return n.t32=n.t31,n.t33={type:"TypeDefinition",name:n.t30,typDefinition:n.t32},n.abrupt("return",[n.t33]);case 74:return n.delegateYield(T(e.declarations.map(v.a.mark(function e(t){var r,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Je(t.id),"t0",1);case 1:if(r=e.t0,n=r.typeAnnotation?r.typeAnnotation.typeAnnotation:null,e.t1=[],!t.init){e.next=9;break}return e.delegateYield(ve(t.init),"t3",6);case 6:e.t2=e.t3,e.next=11;break;case 9:return e.delegateYield(P(t,"Expected definition"),"t4",10);case 10:e.t2=e.t4;case 11:if(e.t5=e.t2,e.t6=r.name,e.t7=n,!e.t7){e.next=17;break}return e.delegateYield(ee(n),"t8",16);case 16:e.t7=e.t8;case 17:return e.t9=e.t7,e.t10=[],e.abrupt("return",{type:"Definition",arguments:e.t1,body:e.t5,name:e.t6,returnTyp:e.t9,typParameters:e.t10});case 20:case"end":return e.stop()}},e)}))),"t34",75);case 75:return n.abrupt("return",n.t34);case 76:return n.delegateYield(P(e,"While loops are not handled"),"t35",77);case 77:return n.abrupt("return",n.t35);case 78:return n.delegateYield(P(e,"With statements are not handled"),"t36",79);case 79:return n.abrupt("return",n.t36);case 80:return n.abrupt("return",e);case 81:case"end":return n.stop()}},Fe)}function We(e){switch(e.type){case"Definition":return R(C([R(C(["Definition",B,e.name])),L(C([].concat(Object(h.a)(0!==e.typParameters.length?[B,te(e.typParameters)]:[]),[Ye(e.arguments),B,(t=e.returnTyp,r=":=",R(C([].concat(Object(h.a)(t?[":",B,re(!1,t),B]:[]),[r])))),N,Te(!1,e.body),"."])))]));case"TypeDefinition":return function(e,t){switch(t.type){case"Enum":var r=Le(e,C([R(C(["Inductive",B,"t",B,":="]))].concat(Object(h.a)(t.names.map(function(e){return R(C([N,"|",B,e]))})),["."])));return C([r,N,Be(e)]);case"Record":return C([Le(e,Ue(0,t.fields,!0)),N,Be(e)]);case"Sum":var n=Le(e,C([U(C([N,N]),[].concat(Object(h.a)(_(t.constructors,function(e){return 0!==e.fields.length?Le(e.name,Ue(0,e.fields,!1)):null})),[R(C([R(C(["Inductive",B,"t",B,":="]))].concat(Object(h.a)(t.constructors.map(function(e){var t=e.name,r=e.fields;return R(C([N,"|",B,t,B,"(",V,"_",B,":",B].concat(Object(h.a)(0!==r.length?[t,".t"]:["unit"]),[V,")"])))})),["."])))]))]));return C([n,N,Be(e)]);case"Synonym":return R(C([R(C(["Definition",B,e,B,":",B,"Type",B,":="])),L(C([B,re(!1,t.typ),"."]))]));default:return t}}(e.name,e.typDefinition);default:return e}var t,r}var _e=v.a.mark(Ge);function Ge(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(T(e.body.map(function(e){return Me(e)})),"t0",1);case 1:return t=r.t0,r.abrupt("return",t.reduce(function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))},[]));case 3:case"end":return r.stop()}},_e)}var Ze='/* Basic definitions */\n\nconst\n  b: boolean = false && true,\n  n: number = -12 + 23;\n\nconst s = "hi";\n\nconst a = [1, (2 : number), 3];\n\nconst cond = b ? "a" : \'b\';\n\n/* Functions */\n\nfunction id<A>(x: A): A {\n  return x;\n}\n\nfunction basicTypes(n: number, m: number): string {\n  return "OK";\n}\n\nconst r = id(basicTypes(12, 23));\n\nconst f = function<A> (x : A, y : A): bool {\n  return true;\n}\n\nconst arrow = x => x + 1;\n\n/* Records */\n\ntype Rec = {\n  a: string,\n  b: number,\n  c: boolean\n};\n\nconst o = ({a: "hi", b: 12, c: false}: Rec);\n\nconst hi = (o: Rec).a;\n\nconst getHi = (o: Rec) => {\n  const {a: hi}: Rec = o;\n  return hi;\n};\n\n/* Enums */\n\ntype Enum = "aa" | "bb" | "gg";\n\nconst aa = ("aa": Enum);\n\nfunction getEnumIndex(e: Enum): number {\n  switch (e /* Enum */) {\n    case "aa":\n      return 0;\n    case "bb":\n      return 1;\n    default:\n      return 2;\n  }\n}\n\n/* Algebraic data types */\n\ntype Status =\n  | {\n      type: "Error",\n      message: string,\n    }\n  | {\n      type: "Loading",\n    }\n  | {\n      type: "Nothing",\n    };\n\nconst status: Status = ({type: "Error", message: "hi"}: Status);\n\nfunction getMessage(status: Status): string {\n  switch (status.type /* Status */) {\n    case "Error": {\n      const {message} = status;\n      return message;\n    }\n    case "Loading":\n      return "loading...";\n    case "Nothing":\n      return "";\n    default:\n      return (status: empty);\n  }\n}\n',ze=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.output;return a.a.createElement("code",null,a.a.createElement("pre",null,e))}}]),t}(n.PureComponent);r(65);function He(){if("undefined"!==typeof window){var e=window.sessionStorage.getItem("jsInput");return"string"===typeof e?e:Ze}return Ze}var Ke=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(r=Object(o.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={jsInput:He()},r.onChangeJsInput=function(e){var t=e.currentTarget.value;r.setState({jsInput:t}),"undefined"!==typeof window&&window.sessionStorage.setItem("jsInput",t)},r}return Object(l.a)(t,e),Object(i.a)(t,[{key:"getJsAst",value:function(e){try{return Object(y.parse)(e,{plugins:["flow","jsx"],sourceType:"module"})}catch(r){var t=r.loc;return"".concat(r.message,"\n\n").concat(b()(e,t.line,t.column))}}},{key:"getCoqAst",value:function(e,t){try{var r=D(Ge(t.program));switch(r.type){case"Error":return function(e,t){return t.map(function(t){var r=Object(g.codeFrameColumns)(e,t.location);return"".concat(r,"\n\n").concat(t.message)}).join("\n\n**********************\n\n")}(e,r.errors);case"Success":return r.value;default:return r}}catch(n){return n.message}}},{key:"getCoqString",value:function(e){return f.a.printer.printDocToString((t=e,r=!0,R(C([U(C([N,N]),[].concat(Object(h.a)(r?["(* Generated by coq-of-js *)\nRequire Import Coq.Lists.List.\nRequire Import Coq.Strings.String.\nRequire Import Coq.ZArith.ZArith.\n\nImport ListNotations.\nLocal Open Scope string.\nLocal Open Scope Z."]:[]),Object(h.a)(t.map(function(e){return We(e)})))),N]))),{printWidth:60,tabWidth:2}).formatted;var t,r}},{key:"getOutputs",value:function(e){var t=this.getJsAst(e);if("string"===typeof t)return{coq:t,coqAst:"",jsAst:""};var r=this.getCoqAst(e,t);return"string"===typeof r?{coq:r,coqAst:"",jsAst:""}:{coq:this.getCoqString(r),coqAst:JSON.stringify(r,null,2),jsAst:JSON.stringify(t,null,2)}}},{key:"render",value:function(){var e=this.state.jsInput,t=this.getOutputs(e),r=t.coq,n=t.coqAst,u=t.jsAst;return a.a.createElement("div",null,a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,a.a.createElement("span",{className:"logo"},a.a.createElement("span",{"aria-label":"globe",role:"img"},"\ud83c\udf0d")," ",a.a.createElement("span",{"aria-label":"rooster",role:"img"},"\ud83d\udc13")),"coq-of-js",a.a.createElement("a",{className:"sub-title",href:"https://github.com/formal-land/coq-of-js"},"Sources"))),a.a.createElement("div",{className:"split js-source"},a.a.createElement("h2",null,"JavaScript editor"),a.a.createElement("textarea",{onChange:this.onChangeJsInput,value:e})),a.a.createElement("div",{className:"split coq-source"},a.a.createElement("h2",null,"Generated Coq"),a.a.createElement(ze,{output:r})),a.a.createElement("div",{className:"split js-ast"},a.a.createElement("h2",null,"JavaScript AST"),a.a.createElement(ze,{output:u})),a.a.createElement("div",{className:"split coq-ast"},a.a.createElement("h2",null,"Coq AST"),a.a.createElement(ze,{output:n})))}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=document.getElementById("root");Qe&&c.a.render(a.a.createElement(Ke,null),Qe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.92247ccb.chunk.js.map