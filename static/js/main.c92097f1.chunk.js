(this["webpackJsonpcoq-of-js"]=this["webpackJsonpcoq-of-js"]||[]).push([[0],{26:function(e,t,r){e.exports=r(66)},3:function(e,t){},31:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),u=r(22),s=r.n(u),c=(r(31),r(6)),i=r(7),o=r(10),p=r(8),l=r(11),d=r(23),y=r.n(d),b=r(24),m=r(9),f=r.n(m),g=(r(3),r(25));var h=r(1),x=r(0),v=r.n(x);var Y=v.a.mark(T),k=v.a.mark(A),w=v.a.mark(P),E=v.a.mark(I);function T(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}},Y)}function A(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"All",expressions:e};case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},k)}function j(e,t,r){return e.reduce(v.a.mark(function e(t,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.delegateYield(t,"t1",2);case 2:return e.t2=e.t1,e.t3=n,e.delegateYield((0,e.t0)(e.t2,e.t3),"t4",5);case 5:return e.abrupt("return",e.t4);case 6:case"end":return e.stop()}},e)}),T(t))}function S(e,t){return j(e,[],v.a.mark(function e(r,n){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t(n),"t0",1);case 1:return a=e.t0,e.abrupt("return",a?[].concat(Object(h.a)(r),[a]):r);case 3:case"end":return e.stop()}},e)}))}function O(e,t){return j(e,!1,v.a.mark(function e(r,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t0){e.next=4;break}return e.delegateYield(t(n),"t1",3);case 3:e.t0=e.t1;case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e)}))}function P(e,t){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:"Raise",message:t,node:e};case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},w)}function I(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(P(e,"Unhandled syntax:\n".concat(JSON.stringify(e,null,2))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},E)}function D(e,t){var r=e.next(t);if(r.done)return{type:"Success",value:r.value};var n=function(){switch(r.value.type){case"All":return function(e){return e.reduce(function(e,t){switch(e.type){case"Error":switch(t.type){case"Error":return{type:"Error",errors:[].concat(Object(h.a)(e.errors),Object(h.a)(t.errors))};case"Success":return{type:"Error",errors:e.errors};default:return t}case"Success":switch(t.type){case"Error":return{type:"Error",errors:t.errors};case"Success":return{type:"Success",value:[].concat(Object(h.a)(e.value),[t.value])};default:return t}default:return e}},{type:"Success",value:[]})}(r.value.expressions.map(function(e){return D(e)}));case"Raise":return{type:"Error",errors:[{location:r.value.node.loc,message:r.value.message}]};default:return r.value}}();switch(n.type){case"Error":return n;case"Success":return D(e,n.value);default:return n}}var q=f.a.builders,C=q.concat,R=q.group,N=q.hardline,L=q.indent,U=q.join,B=q.line,V=q.softline;function F(e,t){return e?R(C(["(",t,")"])):t}var J=r(4),M={Props:"_Props"};function W(e){var t=e.name;return M[t]||t}function _(e,t){return e.reduce(function(e,r){var n=t(r);return n?[].concat(Object(h.a)(e),[n]):e},[])}var G=v.a.mark(K),Z=v.a.mark($),z=v.a.mark(X),H=v.a.mark(ee);function K(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="Identifier"===t.t0?3:"StringLiteral"===t.t0?4:5;break;case 3:return t.abrupt("return",W(e));case 4:return t.abrupt("return",e.value);case 5:return t.delegateYield(P(e,"Computed key name not handled"),"t1",6);case 6:return t.abrupt("return",t.t1);case 7:case"end":return t.stop()}},G)}function Q(e){switch(e.type){case"Identifier":return W(e);case"QualifiedTypeIdentifier":return"".concat(Q(e.qualification),".").concat(W(e.id));default:return e}}function $(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="GenericTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",Q(e.id));case 4:return t.delegateYield(P(e,"Expected a type identifier"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},Z)}function X(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="AnyTypeAnnotation"===t.t0?3:"ArrayTypeAnnotation"===t.t0?5:"BooleanLiteralTypeAnnotation"===t.t0?10:"BooleanTypeAnnotation"===t.t0?12:"EmptyTypeAnnotation"===t.t0?13:"ExistsTypeAnnotation"===t.t0?14:"FunctionTypeAnnotation"===t.t0?15:"GenericTypeAnnotation"===t.t0?22:"InterfaceTypeAnnotation"===t.t0?23:"IntersectionTypeAnnotation"===t.t0?25:"MixedTypeAnnotation"===t.t0?27:"NullableTypeAnnotation"===t.t0?29:"NullLiteralTypeAnnotation"===t.t0?34:"NumberLiteralTypeAnnotation"===t.t0?35:"NumberTypeAnnotation"===t.t0?37:"ObjectTypeAnnotation"===t.t0?38:"StringLiteralTypeAnnotation"===t.t0?41:"StringTypeAnnotation"===t.t0?42:"ThisTypeAnnotation"===t.t0?43:"TupleTypeAnnotation"===t.t0?45:"TypeofTypeAnnotation"===t.t0?52:"UnionTypeAnnotation"===t.t0?54:"VoidTypeAnnotation"===t.t0?55:56;break;case 3:return t.delegateYield(P(e,"The type `any` is not handled"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.delegateYield(ee(e.elementType),"t2",6);case 6:return t.t3=t.t2,t.t4=[t.t3],t.t5={type:"Variable",name:"list",params:t.t4},t.abrupt("return",{type:"PlainTyp",typ:t.t5});case 10:return t.delegateYield(P(e,"Boolean literals in types are not handled"),"t6",11);case 11:return t.abrupt("return",t.t6);case 12:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"bool",params:[]}});case 13:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"Empty_set",params:[]}});case 14:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Implicit"}});case 15:return t.delegateYield(A(e.params.map(function(e){return ee(e.typeAnnotation)})),"t7",16);case 16:return t.t8=t.t7,t.delegateYield(ee(e.returnType),"t9",18);case 18:return t.t10=t.t9,t.t11=e.typeParameters?_(e.typeParameters.params,function(e){return e.name}):[],t.t12={type:"Function",params:t.t8,returnTyp:t.t10,typParams:t.t11},t.abrupt("return",{type:"PlainTyp",typ:t.t12});case 22:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:Q(e.id),params:[]}});case 23:return t.delegateYield(P(e,"Interface types are not handled"),"t13",24);case 24:return t.abrupt("return",t.t13);case 25:return t.delegateYield(P(e,"Intersection types are not handled"),"t14",26);case 26:return t.abrupt("return",t.t14);case 27:return t.delegateYield(P(e,"The type `mixed` is not handled"),"t15",28);case 28:return t.abrupt("return",t.t15);case 29:return t.delegateYield(ee(e.typeAnnotation),"t16",30);case 30:return t.t17=t.t16,t.t18=[t.t17],t.t19={type:"Variable",name:"option",params:t.t18},t.abrupt("return",{type:"PlainTyp",typ:t.t19});case 34:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"unit",params:[]}});case 35:return t.delegateYield(P(e,"Number literals in types are not handled"),"t20",36);case 36:return t.abrupt("return",t.t20);case 37:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"Z",params:[]}});case 38:if(0!==e.properties.length){t.next=40;break}return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"unit",params:[]}});case 40:case 41:return t.abrupt("return",{type:"Rest",typ:e});case 42:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"string",params:[]}});case 43:return t.delegateYield(P(e,"The type `this` is not handled"),"t21",44);case 44:return t.abrupt("return",t.t21);case 45:if(1!==e.types.length){t.next=48;break}return t.delegateYield(P(e,"Tuple types with exactly one element are not handled"),"t22",47);case 47:return t.abrupt("return",t.t22);case 48:return t.delegateYield(A(e.types.map(function(e){return ee(e)})),"t23",49);case 49:return t.t24=t.t23,t.t25={type:"Tuple",params:t.t24},t.abrupt("return",{type:"PlainTyp",typ:t.t25});case 52:return t.delegateYield(P(e,"Extracting the type of values with `typeof` is not handled"),"t26",53);case 53:return t.abrupt("return",t.t26);case 54:return t.abrupt("return",{type:"Rest",typ:e});case 55:return t.abrupt("return",{type:"PlainTyp",typ:{type:"Variable",name:"unit",params:[]}});case 56:return t.abrupt("return",e);case 57:case"end":return t.stop()}},z)}function ee(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(X(e),"t0",1);case 1:t=r.t0,r.t1=t.type,r.next="PlainTyp"===r.t1?5:"Rest"===r.t1?6:16;break;case 5:return r.abrupt("return",t.typ);case 6:r.t2=t.typ.type,r.next="ObjectTypeAnnotation"===r.t2?9:"StringLiteralTypeAnnotation"===r.t2?11:"UnionTypeAnnotation"===r.t2?13:15;break;case 9:return r.delegateYield(P(t.typ,"This kind of object type is not handled outside of type definitions"),"t3",10);case 10:return r.abrupt("return",r.t3);case 11:return r.delegateYield(P(t.typ,"String literal types are not handled outside of type definitions"),"t4",12);case 12:return r.abrupt("return",r.t4);case 13:return r.delegateYield(P(t.typ,"Union types are not handled outside of type definitions"),"t5",14);case 14:return r.abrupt("return",r.t5);case 15:return r.abrupt("return",t.typ);case 16:return r.abrupt("return",t);case 17:case"end":return r.stop()}},H)}function te(e){return R(C(["{",L(C([V,U(B,e),B,R(C([":",B,"Type"]))])),V,"}"]))}function re(e,t){switch(t.type){case"Function":return F(e,R(C([].concat(Object(h.a)(0!==t.typParams.length?[R(C(["forall",B,"{",L(R(C([V].concat(Object(h.a)(t.typParams.map(function(e){return C([e,B])})),[R(C([":",B,"Type"]))])))),V,"}",",",B]))]:[]),Object(h.a)(t.params.map(function(e){return R(C([re(!0,e),B,"->",B]))})),[re(!0,t.returnTyp)]))));case"Implicit":return"_";case"Tuple":switch(t.params.length){case 0:return"unit";default:return F(e,R(U(C([B,"*",B]),t.params.map(function(e){return re(!0,e)}))))}case"Variable":return F(e&&0!==t.params.length,R(C([t.name,L(C(t.params.map(function(e){return C([B,re(!0,e)])})))])));default:return t}}var ne=v.a.mark(de),ae=v.a.mark(ye),ue=v.a.mark(be),se=v.a.mark(me),ce=v.a.mark(ge),ie=v.a.mark(he),oe=v.a.mark(xe),pe=v.a.mark(ve),le={type:"Variable",name:"tt"};function de(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(K(e.key),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},ne)}function ye(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(A(e.properties.map(v.a.mark(function e(t){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectProperty"===e.t0?3:"RestElement"===e.t0?13:15;break;case 3:e.t1=t.value.type,e.next="Identifier"===e.t1?6:11;break;case 6:return r=t.value,e.delegateYield(de(t),"t2",8);case 8:return e.t3=e.t2,e.t4=W(r),e.abrupt("return",{name:e.t3,variable:e.t4});case 11:return e.delegateYield(P(t.value,"Expected an identifier"),"t5",12);case 12:return e.abrupt("return",e.t5);case 13:return e.delegateYield(P(t,"Unhandled rest element for record destructuring"),"t6",14);case 14:return e.abrupt("return",e.t6);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},ae)}function be(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="ArrayPattern"===n.t0?3:"AssignmentPattern"===n.t0?5:"Identifier"===n.t0?7:"MemberExpression"===n.t0?8:"ObjectPattern"===n.t0?10:"RestElement"===n.t0?21:23;break;case 3:return n.delegateYield(P(e,"Unhandled array patterns"),"t1",4);case 4:return n.abrupt("return",n.t1);case 5:return n.delegateYield(P(e,"Unexpected assignment patterns"),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:return n.abrupt("return",{type:"Variable",name:W(e)});case 8:return n.delegateYield(P(e,"Unexpected member access"),"t3",9);case 9:return n.abrupt("return",n.t3);case 10:if(!e.typeAnnotation){n.next=15;break}return n.delegateYield($(e.typeAnnotation.typeAnnotation),"t5",12);case 12:n.t4=n.t5,n.next=17;break;case 15:return n.delegateYield(P(e,"Expected a type annotation for record destructuring"),"t6",16);case 16:n.t4=n.t6;case 17:return t=n.t4,n.delegateYield(ye(e),"t7",19);case 19:return r=n.t7,n.abrupt("return",{type:"Record",fields:r,record:t});case 21:return n.delegateYield(P(e,"Unexpected rest elements"),"t8",22);case 22:return n.abrupt("return",n.t8);case 23:return n.abrupt("return",e);case 24:case"end":return n.stop()}},ue)}function me(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteral"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(P(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},se)}function fe(e){if(e.length>=1){var t=e[0];switch(t.type){case"BlockStatement":return fe(t.body);case"ReturnStatement":if(t.argument)switch(t.argument.type){case"TypeCastExpression":switch(t.argument.typeAnnotation.typeAnnotation.type){case"EmptyTypeAnnotation":return!0;default:return!1}default:return!1}return!1;default:return!1}}return!1}function ge(e,t){var r,n,a,u;return v.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r={fields:[],trailingStatements:e},0!==e.length){s.next=3;break}return s.abrupt("return",r);case 3:n=e[0],s.t0=n.type,s.next="BlockStatement"===s.t0?7:"VariableDeclaration"===s.t0?9:30;break;case 7:return s.delegateYield(ge([].concat(Object(h.a)(n.body),Object(h.a)(e.slice(1))),t),"t1",8);case 8:return s.abrupt("return",s.t1);case 9:if(1===n.declarations.length){s.next=12;break}return s.delegateYield(P(n,"Expected a single definition of variable"),"t2",11);case 11:return s.abrupt("return",s.t2);case 12:if(!(a=n.declarations[0]).init){s.next=29;break}s.t3=a.init.type,s.next="Identifier"===s.t3?17:28;break;case 17:if(a.init.name!==t){s.next=27;break}s.t4=a.id.type,s.next="ObjectPattern"===s.t4?22:25;break;case 22:return s.delegateYield(ye(a.id),"t5",23);case 23:return u=s.t5,s.abrupt("return",{fields:u,trailingStatements:e.slice(1)});case 25:return s.delegateYield(P(a.id,"Expected an object pattern to destructure a sum type"),"t6",26);case 26:return s.abrupt("return",s.t6);case 27:case 28:case 29:case 30:return s.abrupt("return",r);case 31:case"end":return s.stop()}},ce)}function he(e){var t,r,n,a,u,s,c,i,o,p,l,d,y,b,m,f,g;return v.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(0!==e.length){x.next=2;break}return x.abrupt("return",le);case 2:t=e[0],x.t0=t.type,x.next="BlockStatement"===x.t0?6:"ReturnStatement"===x.t0?8:"SwitchStatement"===x.t0?15:"VariableDeclaration"===x.t0?70:87;break;case 6:return x.delegateYield(he([].concat(Object(h.a)(t.body),Object(h.a)(e.slice(1)))),"t1",7);case 7:return x.abrupt("return",x.t1);case 8:if(!t.argument){x.next=13;break}return x.delegateYield(ve(t.argument),"t3",10);case 10:x.t2=x.t3,x.next=14;break;case 13:x.t2=le;case 14:return x.abrupt("return",x.t2);case 15:x.t4=t.discriminant.type,x.next="MemberExpression"===x.t4?18:"TypeCastExpression"===x.t4?51:68;break;case 18:return r=t.discriminant,x.delegateYield(K(r.property),"t5",20);case 20:if("type"===x.t5){x.next=24;break}return x.delegateYield(P(r.property,"Expected an access on the `type` field to destructure a sum type"),"t6",23);case 23:return x.abrupt("return",x.t6);case 24:x.t7=r.object.type,x.next="TypeCastExpression"===x.t7?27:49;break;case 27:return n=r.object,a=n.expression,u=n.typeAnnotation,x.delegateYield($(u.typeAnnotation),"t8",29);case 29:s=x.t8,x.t9=a.type,x.next="Identifier"===x.t9?33:47;break;case 33:return c=a.name,x.delegateYield(S(t.cases,v.a.mark(function e(t){var r,n,a,u,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.consequent,n=t.test){e.next=3;break}return e.abrupt("return",null);case 3:return e.delegateYield(ge(r,c),"t0",4);case 4:return a=e.t0,u=a.fields,s=a.trailingStatements,e.delegateYield(he(s),"t1",8);case 8:return e.t2=e.t1,e.t3=u,e.delegateYield(me(n),"t4",11);case 11:return e.t5=e.t4,e.abrupt("return",{body:e.t2,fields:e.t3,name:e.t5});case 13:case"end":return e.stop()}},e)})),"t10",35);case 35:if(i=x.t10,o=t.cases.find(function(e){return!e.test&&!fe(e.consequent)})||null,x.t11=i,x.t12=o,!x.t12){x.next=42;break}return x.delegateYield(he(o.consequent),"t13",41);case 41:x.t12=x.t13;case 42:return x.t14=x.t12,x.delegateYield(ve(a),"t15",44);case 44:return x.t16=x.t15,x.t17=s,x.abrupt("return",{type:"SumDestruct",branches:x.t11,defaultBranch:x.t14,discriminant:x.t16,sum:x.t17});case 47:return x.delegateYield(P(a,"Expected a switch on an identifier to destructure a sum type"),"t18",48);case 48:return x.abrupt("return",x.t18);case 49:return x.delegateYield(P(r.object,"Expected a type annotation on this expression to destructure a sum type"),"t19",50);case 50:return x.abrupt("return",x.t19);case 51:return p=t.discriminant,l=p.expression,d=p.typeAnnotation,x.delegateYield(j(t.cases,{accumulatedNames:[],branches:[]},v.a.mark(function e(t,r){var n,a,u,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.accumulatedNames,a=t.branches,r.test){e.next=3;break}return e.abrupt("return",{accumulatedNames:[],branches:a});case 3:return e.delegateYield(me(r.test),"t0",4);case 4:if(u=e.t0,s=[].concat(Object(h.a)(n),[u]),0!==r.consequent.length){e.next=8;break}return e.abrupt("return",{accumulatedNames:s,branches:a});case 8:return e.t1=[],e.t2=[],e.t3=Object(h.a)(a),e.delegateYield(he(r.consequent),"t4",12);case 12:return e.t5=e.t4,e.t6=s,e.t7={body:e.t5,names:e.t6},e.t8=[e.t7],e.t9=e.t2.concat.call(e.t2,e.t3,e.t8),e.abrupt("return",{accumulatedNames:e.t1,branches:e.t9});case 18:case"end":return e.stop()}},e)})),"t20",53);case 53:if(y=x.t20,b=y.accumulatedNames,m=y.branches,f=t.cases.find(function(e){return!e.test&&!fe(e.consequent)})||null,x.t21=[].concat(Object(h.a)(m),Object(h.a)(0!==b.length?[{body:le,names:b}]:[])),x.t22=f,!x.t22){x.next=62;break}return x.delegateYield(he(f.consequent),"t23",61);case 61:x.t22=x.t23;case 62:return x.t24=x.t22,x.delegateYield(ve(l),"t25",64);case 64:return x.t26=x.t25,x.delegateYield($(d.typeAnnotation),"t27",66);case 66:return x.t28=x.t27,x.abrupt("return",{type:"EnumDestruct",branches:x.t21,defaultBranch:x.t24,discriminant:x.t26,typName:x.t28});case 68:return x.delegateYield(P(t.discriminant,"Missing type annotation to destructure an enum"),"t29",69);case 69:return x.abrupt("return",x.t29);case 70:if(1===t.declarations.length){x.next=73;break}return x.delegateYield(P(t,"Expected exactly one definition"),"t30",72);case 72:return x.abrupt("return",x.t30);case 73:return g=t.declarations[0],x.delegateYield(he(e.slice(1)),"t31",75);case 75:return x.t32=x.t31,x.delegateYield(be(g.id),"t33",77);case 77:if(x.t34=x.t33,!g.init){x.next=83;break}return x.delegateYield(ve(g.init),"t36",80);case 80:x.t35=x.t36,x.next=85;break;case 83:return x.delegateYield(P(g,"Expected a definition with a value"),"t37",84);case 84:x.t35=x.t37;case 85:return x.t38=x.t35,x.abrupt("return",{type:"Let",body:x.t32,lval:x.t34,value:x.t38});case 87:return x.delegateYield(I(t),"t39",88);case 88:return x.abrupt("return",x.t39);case 89:case"end":return x.stop()}},ie)}function xe(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.returnType?e.returnType.typeAnnotation:null,r.delegateYield(A(e.params.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="Identifier"===e.t0?3:12;break;case 3:if(e.t1=t.name,!t.typeAnnotation){e.next=9;break}return e.delegateYield(ee(t.typeAnnotation.typeAnnotation),"t3",6);case 6:e.t2=e.t3,e.next=10;break;case 9:e.t2=null;case 10:return e.t4=e.t2,e.abrupt("return",{name:e.t1,typ:e.t4});case 12:return e.delegateYield(P(t,"Expected simple identifier as function parameter"),"t5",13);case 13:return e.abrupt("return",e.t5);case 14:case"end":return e.stop()}},e)}))),"t0",2);case 2:if(r.t1=r.t0,"BlockStatement"!==e.body.type){r.next=8;break}return r.delegateYield(he(e.body.body),"t3",5);case 5:r.t2=r.t3,r.next=10;break;case 8:return r.delegateYield(ve(e.body),"t4",9);case 9:r.t2=r.t4;case 10:if(r.t5=r.t2,r.t6=t,!r.t6){r.next=15;break}return r.delegateYield(ee(t),"t7",14);case 14:r.t6=r.t7;case 15:return r.t8=r.t6,r.t9=e.typeParameters?_(e.typeParameters.params,function(e){return e.name}):[],r.abrupt("return",{arguments:r.t1,body:r.t5,returnTyp:r.t8,typParameters:r.t9});case 18:case"end":return r.stop()}},oe)}function ve(e){var t,r,n,a,u,s,c,i,o,p,l;return v.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:d.t0=e.type,d.next="ArrayExpression"===d.t0?3:"ArrowFunctionExpression"===d.t0?12:"BinaryExpression"===d.t0?15:"BooleanLiteral"===d.t0?21:"CallExpression"===d.t0?22:"ConditionalExpression"===d.t0?27:"FunctionExpression"===d.t0?34:"Identifier"===d.t0?37:"LogicalExpression"===d.t0?38:"MemberExpression"===d.t0?44:"NullLiteral"===d.t0?59:"NumericLiteral"===d.t0?60:"ObjectExpression"===d.t0?61:"ParenthesizedExpression"===d.t0?65:"StringLiteral"===d.t0?67:"TypeCastExpression"===d.t0?68:"UnaryExpression"===d.t0?89:93;break;case 3:if(!e.elements){d.next=8;break}return d.delegateYield(A(e.elements.map(v.a.mark(function t(r){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return t.delegateYield(P(e,"Expected non-empty elements in the array"),"t0",2);case 2:return t.abrupt("return",t.t0);case 3:if("SpreadElement"!==r.type){t.next=6;break}return t.delegateYield(P(r,"Spreads in arrays are not handled"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:return t.delegateYield(ve(r),"t2",7);case 7:return t.abrupt("return",t.t2);case 8:case"end":return t.stop()}},t)}))),"t2",5);case 5:d.t1=d.t2,d.next=10;break;case 8:return d.delegateYield(P(e,"Unexpected empty array expression"),"t3",9);case 9:d.t1=d.t3;case 10:return d.t4=d.t1,d.abrupt("return",{type:"ArrayExpression",elements:d.t4});case 12:return d.delegateYield(xe(e),"t5",13);case 13:return d.t6=d.t5,d.abrupt("return",{type:"FunctionExpression",value:d.t6});case 15:return d.delegateYield(ve(e.left),"t7",16);case 16:return d.t8=d.t7,d.t9=e.operator,d.delegateYield(ve(e.right),"t10",19);case 19:return d.t11=d.t10,d.abrupt("return",{type:"BinaryExpression",left:d.t8,operator:d.t9,right:d.t11});case 21:return d.abrupt("return",{type:"Constant",value:e.value});case 22:return d.delegateYield(A(e.arguments.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ArgumentPlaceholder"===e.t0?3:"SpreadElement"===e.t0?5:7;break;case 3:return e.delegateYield(P(t,"Unhandled partial application"),"t1",4);case 4:return e.abrupt("return",e.t1);case 5:return e.delegateYield(P(t,"Unhandled spread parameters"),"t2",6);case 6:return e.abrupt("return",e.t2);case 7:return e.delegateYield(ve(t),"t3",8);case 8:return e.abrupt("return",e.t3);case 9:case"end":return e.stop()}},e)}))),"t12",23);case 23:return d.t13=d.t12,d.delegateYield(ve(e.callee),"t14",25);case 25:return d.t15=d.t14,d.abrupt("return",{type:"CallExpression",arguments:d.t13,callee:d.t15});case 27:return d.delegateYield(ve(e.alternate),"t16",28);case 28:return d.t17=d.t16,d.delegateYield(ve(e.consequent),"t18",30);case 30:return d.t19=d.t18,d.delegateYield(ve(e.test),"t20",32);case 32:return d.t21=d.t20,d.abrupt("return",{type:"ConditionalExpression",alternate:d.t17,consequent:d.t19,test:d.t21});case 34:return d.delegateYield(xe(e),"t22",35);case 35:return d.t23=d.t22,d.abrupt("return",{type:"FunctionExpression",value:d.t23});case 37:return d.abrupt("return",{type:"Variable",name:e.name});case 38:return d.delegateYield(ve(e.left),"t24",39);case 39:return d.t25=d.t24,d.t26=e.operator,d.delegateYield(ve(e.right),"t27",42);case 42:return d.t28=d.t27,d.abrupt("return",{type:"BinaryExpression",left:d.t25,operator:d.t26,right:d.t28});case 44:d.t29=e.object.type,d.next="TypeCastExpression"===d.t29?47:57;break;case 47:return t=e.object,r=t.expression,n=t.typeAnnotation,d.delegateYield($(n.typeAnnotation),"t30",49);case 49:return a=d.t30,d.delegateYield(K(e.property),"t31",51);case 51:return u=d.t31,d.t32=u,d.delegateYield(ve(r),"t33",54);case 54:return d.t34=d.t33,d.t35=a,d.abrupt("return",{type:"RecordProjection",field:d.t32,object:d.t34,record:d.t35});case 57:return d.delegateYield(P(e.object,"Expected a type annotation on this object to access a member"),"t36",58);case 58:return d.abrupt("return",d.t36);case 59:return d.abrupt("return",le);case 60:return d.abrupt("return",{type:"Constant",value:e.value});case 61:if(0!==e.properties.length){d.next=63;break}return d.abrupt("return",le);case 63:return d.delegateYield(P(e,"Unhandled object expression without type annotation"),"t37",64);case 64:return d.abrupt("return",d.t37);case 65:return d.delegateYield(ve(e.expression),"t38",66);case 66:return d.abrupt("return",d.t38);case 67:return d.abrupt("return",{type:"Constant",value:e.value});case 68:d.t39=e.expression.type,d.next="ObjectExpression"===d.t39?71:"StringLiteral"===d.t39?79:84;break;case 71:return d.delegateYield(j(e.expression.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,s,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectProperty"===r.type){e.next=4;break}return e.delegateYield(P(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:if(!r.computed){e.next=7;break}return e.delegateYield(P(r.key,"Unhandled computed property name"),"t1",6);case 6:return e.abrupt("return",e.t1);case 7:return e.delegateYield(de(r),"t2",8);case 8:if(s=e.t2,c=r.value,"type"!==s){e.next=19;break}return e.t3=[],e.t4=Object(h.a)(a),e.delegateYield(me(c),"t5",14);case 14:return e.t6=e.t5,e.t7=[e.t6],e.t8=e.t3.concat.call(e.t3,e.t4,e.t7),e.t9=u,e.abrupt("return",[e.t8,e.t9]);case 19:return e.t10=a,e.t11=[],e.t12=Object(h.a)(u),e.t13=s,e.delegateYield(ve(c),"t14",24);case 24:return e.t15=e.t14,e.t16={name:e.t13,value:e.t15},e.t17=[e.t16],e.t18=e.t11.concat.call(e.t11,e.t12,e.t17),e.abrupt("return",[e.t10,e.t18]);case 29:case"end":return e.stop()}},e)})),"t40",72);case 72:return s=d.t40,c=Object(J.a)(s,2),i=c[0],o=c[1],d.delegateYield($(e.typeAnnotation.typeAnnotation),"t41",77);case 77:return p=d.t41,d.abrupt("return",0===i.length?{type:"RecordInstance",record:p,fields:o}:{type:"SumInstance",constr:i[0],fields:o,sum:p});case 79:return l=e.expression.value,d.t42=l,d.delegateYield($(e.typeAnnotation.typeAnnotation),"t43",82);case 82:return d.t44=d.t43,d.abrupt("return",{type:"EnumInstance",instance:d.t42,typName:d.t44});case 84:return d.delegateYield(ve(e.expression),"t45",85);case 85:return d.t46=d.t45,d.delegateYield(ee(e.typeAnnotation.typeAnnotation),"t47",87);case 87:return d.t48=d.t47,d.abrupt("return",{type:"TypeCastExpression",expression:d.t46,typeAnnotation:d.t48});case 89:return d.delegateYield(ve(e.argument),"t49",90);case 90:return d.t50=d.t49,d.t51=e.operator,d.abrupt("return",{type:"UnaryExpression",argument:d.t50,operator:d.t51});case 93:return d.delegateYield(I(e),"t52",94);case 94:return d.abrupt("return",d.t52);case 95:case"end":return d.stop()}},pe)}function Ye(e){return C(e.map(function(e){var t=e.name,r=e.typ;return C([B,r?R(C(["(",t,B,":",B,re(!1,r),")"])):t])}))}function ke(e,t){return R(C(["{|",L(C(t.map(function(t){var r=t.name,n=t.value;return C([B,R(C([R(C(["".concat(e,".").concat(r),B,":="])),L(C([B,n,";"]))]))])}))),B,"|}"]))}function we(e,t){switch(e.type){case"Record":return 0===e.fields.length?"_":C([].concat(Object(h.a)(t?["'"]:[]),[ke(e.record,e.fields.map(function(e){return{name:e.name,value:e.variable}}))]));case"Variable":return e.name;default:return e}}function Ee(e,t,r,n){return R(C([R(C(["match",B,e,B,"with"])),N].concat(Object(h.a)(t.map(function(e){var t=e.body,r=e.patterns;return R(C([U(B,r.map(function(e){var t=e.fields,r=e.name;return R(C(["|",B,"".concat(n,".").concat(r)].concat(Object(h.a)(t?[B,we({type:"Record",fields:t,record:"".concat(n,".").concat(r)},!1)]:[]))))})),B,"=>",L(C([B,t])),N]))})),Object(h.a)(r?[R(C([R(C(["|",B,"_",B,"=>"])),L(C([B,r])),N]))]:[]),["end"])))}function Te(e,t){switch(t.type){case"ArrayExpression":return 0===t.elements.length?"[]":R(C(["[",L(C([B,U(C([";",B]),t.elements.map(function(e){return Te(!1,e)}))])),B,"]"]));case"BinaryExpression":return F(e,R(U(B,[Te(!0,t.left),t.operator,Te(!0,t.right)])));case"CallExpression":return F(e,R(L(U(B,[Te(!0,t.callee)].concat(Object(h.a)(t.arguments.map(function(e){return Te(!0,e)})))))));case"ConditionalExpression":return F(e,R(C([R(C(["if",B,Te(!1,t.test),B,"then"])),L(C([B,Te(!1,t.consequent)])),B,"else",L(C([B,Te(!1,t.alternate)]))])));case"Constant":return JSON.stringify(t.value);case"EnumDestruct":var r=t.branches,n=t.defaultBranch,a=t.discriminant,u=t.typName;return Ee(Te(!1,a),r.map(function(e){var t=e.body,r=e.names;return{body:Te(!1,t),patterns:r.map(function(e){return{fields:null,name:e}})}}),n&&Te(!1,n),u);case"EnumInstance":return"".concat(t.typName,".").concat(t.instance);case"FunctionExpression":return F(e,R(C([R(C(["fun",L(C([].concat(Object(h.a)(0!==t.value.typParameters.length?[B,te(t.value.typParameters)]:[]),[Ye(t.value.arguments)]))),B,"=>"])),L(C([B,Te(!1,t.value.body)]))])));case"Let":return R(C([R(C(["let",B,we(t.lval,!0),B,":="])),L(C([B,Te(!1,t.value)])),B,"in",N,Te(!1,t.body)]));case"RecordInstance":return ke(t.record,t.fields.map(function(e){return{name:e.name,value:Te(!1,e.value)}}));case"RecordProjection":return R(C([Te(!0,t.object),V,".(",L(R(C([V,t.record,".",t.field]))),V,")"]));case"SumDestruct":var s=t.branches,c=t.defaultBranch,i=t.discriminant,o=t.sum;return Ee(Te(!1,i),s.map(function(e){var t=e.body,r=e.fields,n=e.name;return{body:Te(!1,t),patterns:[{fields:r,name:n}]}}),c&&Te(!1,c),o);case"SumInstance":var p="".concat(t.sum,".").concat(t.constr);return F(e,R(C([p,B].concat(Object(h.a)(0!==t.fields.length?[ke(p,t.fields.map(function(e){return{name:e.name,value:Te(!1,e.value)}}))]:["tt"])))));case"TypeCastExpression":return R(C(["(",V,Te(!0,t.expression),B,":",B,re(!1,t.typeAnnotation),V,")"]));case"UnaryExpression":return F(e,R(C([t.operator,B,Te(!0,t.argument)])));case"Variable":return t.name;default:return t}}var Ae=v.a.mark(Ie),je=v.a.mark(De),Se=v.a.mark(qe),Oe=v.a.mark(Ce),Pe=v.a.mark(Re);function Ie(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(K(e.key),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},Ae)}function De(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteralTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(P(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},je)}function qe(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="StringLiteralTypeAnnotation"===e.t0?3:4;break;case 3:return e.abrupt("return",t.value);case 4:return e.delegateYield(P(t,"Only strings are handled in enums"),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Enum",names:t});case 3:case"end":return r.stop()}},Se)}function Ce(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.map(v.a.mark(function e(t){var r,n,a,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeAnnotation"===e.t0?3:16;break;case 3:return e.delegateYield(j(t.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectTypeProperty"===r.type){e.next=4;break}return e.delegateYield(P(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:return e.delegateYield(Ie(r),"t1",5);case 5:return s=e.t1,e.abrupt("return","type"===s?[[].concat(Object(h.a)(a),[r]),u]:[a,[].concat(Object(h.a)(u),[r])]);case 7:case"end":return e.stop()}},e)})),"t1",4);case 4:if(r=e.t1,n=Object(J.a)(r,2),a=n[0],u=n[1],0!==a.length){e.next=11;break}return e.delegateYield(P(t,"Expected at least one field with the name `type`"),"t2",10);case 10:return e.abrupt("return",e.t2);case 11:return e.delegateYield(De(a[0].value),"t3",12);case 12:return e.t4=e.t3,e.delegateYield(A(u.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Ie(t),"t0",1);case 1:return e.t1=e.t0,e.delegateYield(ee(t.value),"t2",3);case 3:return e.t3=e.t2,e.abrupt("return",{name:e.t1,typ:e.t3});case 5:case"end":return e.stop()}},e)}))),"t5",14);case 14:return e.t6=e.t5,e.abrupt("return",{name:e.t4,fields:e.t6});case 16:return e.delegateYield(P(t,"Only objects are handled in sum types"),"t7",17);case 17:return e.abrupt("return",e.t7);case 18:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Sum",constructors:t});case 3:case"end":return r.stop()}},Oe)}function Re(e){var t,r,n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(X(e),"t0",1);case 1:t=a.t0,a.t1=t.type,a.next="PlainTyp"===a.t1?5:"Rest"===a.t1?6:32;break;case 5:return a.abrupt("return",{type:"Synonym",typ:t.typ});case 6:a.t2=t.typ.type,a.next="ObjectTypeAnnotation"===a.t2?9:"StringLiteralTypeAnnotation"===a.t2?18:"UnionTypeAnnotation"===a.t2?20:31;break;case 9:return r=t.typ,a.delegateYield(O(r.properties,v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeProperty"===e.t0?3:6;break;case 3:return e.delegateYield(Ie(t),"t1",4);case 4:return e.t2=e.t1,e.abrupt("return","type"===e.t2);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),"t3",11);case 11:if(!a.t3){a.next=15;break}return a.delegateYield(Ce([r]),"t4",14);case 14:return a.abrupt("return",a.t4);case 15:return a.delegateYield(A(r.properties.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ObjectTypeProperty"===t.type){e.next=3;break}return e.delegateYield(P(t,"Expected named property"),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:return e.delegateYield(Ie(t),"t1",4);case 4:return e.t2=e.t1,e.delegateYield(ee(t.value),"t3",6);case 6:return e.t4=e.t3,e.abrupt("return",{name:e.t2,typ:e.t4});case 8:case"end":return e.stop()}},e)}))),"t5",16);case 16:return n=a.t5,a.abrupt("return",{type:"Record",fields:n});case 18:return a.delegateYield(qe([t.typ]),"t6",19);case 19:return a.abrupt("return",a.t6);case 20:if(0!==t.typ.types.length){a.next=22;break}return a.abrupt("return",{type:"Synonym",typ:{type:"Variable",name:"Empty_set",params:[]}});case 22:a.t7=t.typ.types[0].type,a.next="ObjectTypeAnnotation"===a.t7?25:"StringLiteralTypeAnnotation"===a.t7?27:29;break;case 25:return a.delegateYield(Ce(t.typ.types),"t8",26);case 26:return a.abrupt("return",a.t8);case 27:return a.delegateYield(qe(t.typ.types),"t9",28);case 28:return a.abrupt("return",a.t9);case 29:return a.delegateYield(P(t.typ,"Only handle unions of strings or objects with a `type` field"),"t10",30);case 30:return a.abrupt("return",a.t10);case 31:return a.abrupt("return",t.typ);case 32:return a.abrupt("return",t);case 33:case"end":return a.stop()}},Pe)}function Ne(e,t){return R(C([R(C(["Module",B,e,"."])),L(C([N,t])),R(C([N,"End",B,e,"."]))]))}function Le(e,t){return C([R(C(["Record",B,"t",B,":=",B,"{"])),L(C(t.map(function(e){var t=e.name,r=e.typ;return C([N,t,B,":",B,re(!1,r),V,";"])}))),N,"}."])}function Ue(e){return R(C(["Definition",B,e,B,":=",B,"".concat(e,".t"),"."]))}var Be=v.a.mark(Fe),Ve=v.a.mark(Je);function Fe(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="ArrayPattern"===t.t0?3:"AssignmentPattern"===t.t0?5:"Identifier"===t.t0?7:"MemberExpression"===t.t0?8:"ObjectPattern"===t.t0?10:"RestElement"===t.t0?12:14;break;case 3:return t.delegateYield(P(e,"Array destructuring at top-level is not allowed due to limitations in Coq"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.delegateYield(P(e,"Unexpected assignement pattern"),"t2",6);case 6:return t.abrupt("return",t.t2);case 7:return t.abrupt("return",e);case 8:return t.delegateYield(P(e,"Unexpected member expression"),"t3",9);case 9:return t.abrupt("return",t.t3);case 10:return t.delegateYield(P(e,"Object destructuring at top-level is not allowed due to limitations in Coq"),"t4",11);case 11:return t.abrupt("return",t.t4);case 12:return t.delegateYield(P(e,"Rest element unexpected outside a pattern"),"t5",13);case 13:return t.abrupt("return",t.t5);case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}},Be)}function Je(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="BlockStatement"===n.t0?3:"BreakStatement"===n.t0?5:"ClassDeclaration"===n.t0?7:"ContinueStatement"===n.t0?9:"DebuggerStatement"===n.t0?11:"DeclareClass"===n.t0?12:"DeclareExportAllDeclaration"===n.t0?12:"DeclareExportDeclaration"===n.t0?12:"DeclareFunction"===n.t0?12:"DeclareInterface"===n.t0?12:"DeclareModule"===n.t0?12:"DeclareModuleExports"===n.t0?12:"DeclareOpaqueType"===n.t0?12:"DeclareTypeAlias"===n.t0?12:"DeclareVariable"===n.t0?12:"DoWhileStatement"===n.t0?13:"EmptyStatement"===n.t0?15:"ExportAllDeclaration"===n.t0?16:"ExportDefaultDeclaration"===n.t0?18:"ExportNamedDeclaration"===n.t0?20:"ExpressionStatement"===n.t0?28:"ForInStatement"===n.t0?30:"ForOfStatement"===n.t0?32:"ForStatement"===n.t0?34:"FunctionDeclaration"===n.t0?36:"IfStatement"===n.t0?46:"ImportDeclaration"===n.t0?48:"InterfaceDeclaration"===n.t0?52:"LabeledStatement"===n.t0?54:"OpaqueType"===n.t0?56:"ReturnStatement"===n.t0?61:"SwitchStatement"===n.t0?63:"ThrowStatement"===n.t0?65:"TryStatement"===n.t0?67:"TypeAlias"===n.t0?69:"VariableDeclaration"===n.t0?74:"WhileStatement"===n.t0?76:"WithStatement"===n.t0?78:80;break;case 3:return n.delegateYield(P(e,"Blocks are not handled at top-level"),"t1",4);case 4:return n.abrupt("return",n.t1);case 5:return n.delegateYield(P(e,"Unexpected `break` at top-level"),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:return n.delegateYield(P(e,"Class declarations are not handled"),"t3",8);case 8:return n.abrupt("return",n.t3);case 9:return n.delegateYield(P(e,"Unexpected `continue` at top-level"),"t4",10);case 10:return n.abrupt("return",n.t4);case 11:case 12:return n.abrupt("return",[]);case 13:return n.delegateYield(P(e,"Do-while loops are not handled"),"t5",14);case 14:return n.abrupt("return",n.t5);case 15:return n.abrupt("return",[]);case 16:return n.delegateYield(P(e,"Export all are not handled"),"t6",17);case 17:return n.abrupt("return",n.t6);case 18:return n.delegateYield(P(e,"Export default is not handled"),"t7",19);case 19:return n.abrupt("return",n.t7);case 20:if(!e.declaration){n.next=25;break}return n.delegateYield(Je(e.declaration),"t9",22);case 22:n.t8=n.t9,n.next=27;break;case 25:return n.delegateYield(P(e,"This kind of export is not handled"),"t10",26);case 26:n.t8=n.t10;case 27:return n.abrupt("return",n.t8);case 28:return n.delegateYield(P(e,"Top-level expressions are not handled"),"t11",29);case 29:return n.abrupt("return",n.t11);case 30:return n.delegateYield(P(e,"For-in loops are not handled"),"t12",31);case 31:return n.abrupt("return",n.t12);case 32:return n.delegateYield(P(e,"For-of loops are not handled"),"t13",33);case 33:return n.abrupt("return",n.t13);case 34:return n.delegateYield(P(e,"For loops are not handled"),"t14",35);case 35:return n.abrupt("return",n.t14);case 36:return n.delegateYield(xe(e),"t15",37);case 37:if(t=n.t15,!e.id){n.next=42;break}n.t16=e.id.name,n.next=44;break;case 42:return n.delegateYield(P(e,"Expected named function"),"t17",43);case 43:n.t16=n.t17;case 44:return r=n.t16,n.abrupt("return",[{type:"Definition",arguments:t.arguments,body:t.body,name:r,returnTyp:t.returnTyp,typParameters:t.typParameters}]);case 46:return n.delegateYield(P(e,"If at top-level are not handled"),"t18",47);case 47:return n.abrupt("return",n.t18);case 48:if("react"!==e.source.value){n.next=50;break}return n.abrupt("return",[]);case 50:return n.delegateYield(P(e,"Only the imports from React are handled"),"t19",51);case 51:return n.abrupt("return",n.t19);case 52:return n.delegateYield(P(e,"Interface declarations are not handled"),"t20",53);case 53:return n.abrupt("return",n.t20);case 54:return n.delegateYield(P(e,"Labeled statements are not handled"),"t21",55);case 55:return n.abrupt("return",n.t21);case 56:return n.t22=W(e.id),n.delegateYield(Re(e.impltype),"t23",58);case 58:return n.t24=n.t23,n.t25={type:"TypeDefinition",name:n.t22,typDefinition:n.t24},n.abrupt("return",[n.t25]);case 61:return n.delegateYield(P(e,"Unexpected `return` at top-level"),"t26",62);case 62:return n.abrupt("return",n.t26);case 63:return n.delegateYield(P(e,"Top-level switch are not handled"),"t27",64);case 64:return n.abrupt("return",n.t27);case 65:return n.delegateYield(P(e,"Throw statements are not handled"),"t28",66);case 66:return n.abrupt("return",n.t28);case 67:return n.delegateYield(P(e,"Try statements are not handled"),"t29",68);case 68:return n.abrupt("return",n.t29);case 69:return n.t30=W(e.id),n.delegateYield(Re(e.right),"t31",71);case 71:return n.t32=n.t31,n.t33={type:"TypeDefinition",name:n.t30,typDefinition:n.t32},n.abrupt("return",[n.t33]);case 74:return n.delegateYield(A(e.declarations.map(v.a.mark(function e(t){var r,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Fe(t.id),"t0",1);case 1:if(r=e.t0,n=r.typeAnnotation?r.typeAnnotation.typeAnnotation:null,e.t1=[],!t.init){e.next=9;break}return e.delegateYield(ve(t.init),"t3",6);case 6:e.t2=e.t3,e.next=11;break;case 9:return e.delegateYield(P(t,"Expected definition"),"t4",10);case 10:e.t2=e.t4;case 11:if(e.t5=e.t2,e.t6=r.name,e.t7=n,!e.t7){e.next=17;break}return e.delegateYield(ee(n),"t8",16);case 16:e.t7=e.t8;case 17:return e.t9=e.t7,e.t10=[],e.abrupt("return",{type:"Definition",arguments:e.t1,body:e.t5,name:e.t6,returnTyp:e.t9,typParameters:e.t10});case 20:case"end":return e.stop()}},e)}))),"t34",75);case 75:return n.abrupt("return",n.t34);case 76:return n.delegateYield(P(e,"While loops are not handled"),"t35",77);case 77:return n.abrupt("return",n.t35);case 78:return n.delegateYield(P(e,"With statements are not handled"),"t36",79);case 79:return n.abrupt("return",n.t36);case 80:return n.abrupt("return",e);case 81:case"end":return n.stop()}},Ve)}function Me(e){switch(e.type){case"Definition":return R(C([R(C(["Definition",B,e.name])),L(C([].concat(Object(h.a)(0!==e.typParameters.length?[B,te(e.typParameters)]:[]),[Ye(e.arguments),B,(t=e.returnTyp,r=":=",R(C([].concat(Object(h.a)(t?[":",B,re(!1,t),B]:[]),[r])))),N,Te(!1,e.body),"."])))]));case"TypeDefinition":return function(e,t){switch(t.type){case"Enum":var r=Ne(e,C([R(C(["Inductive",B,"t",B,":="]))].concat(Object(h.a)(t.names.map(function(e){return R(C([N,"|",B,e]))})),["."])));return C([r,N,Ue(e)]);case"Record":return C([Ne(e,Le(0,t.fields)),N,Ue(e)]);case"Sum":var n=Ne(e,C([U(C([N,N]),[].concat(Object(h.a)(_(t.constructors,function(e){return 0!==e.fields.length?Ne(e.name,Le(0,e.fields)):null})),[R(C([R(C(["Inductive",B,"t",B,":="]))].concat(Object(h.a)(t.constructors.map(function(e){var t=e.name,r=e.fields;return R(C([N,"|",B,t,B,"(",V,"_",B,":",B].concat(Object(h.a)(0!==r.length?[t,".t"]:["unit"]),[V,")"])))})),["."])))]))]));return C([n,N,Ue(e)]);case"Synonym":return R(C([R(C(["Definition",B,e,B,":",B,"Type",B,":="])),L(C([B,re(!1,t.typ),"."]))]));default:return t}}(e.name,e.typDefinition);default:return e}var t,r}var We=v.a.mark(_e);function _e(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.body.map(function(e){return Je(e)})),"t0",1);case 1:return t=r.t0,r.abrupt("return",t.reduce(function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))},[]));case 3:case"end":return r.stop()}},We)}var Ge='/* Basic definitions */\n\nconst\n  b: boolean = false && true,\n  n: number = -12 + 23;\n\nconst s = "hi";\n\nconst a = [1, (2 : number), 3];\n\nconst cond = b ? "a" : \'b\';\n\n/* Functions */\n\nfunction id<A>(x: A): A {\n  return x;\n}\n\nfunction basicTypes(n: number, m: number): string {\n  return "OK";\n}\n\nconst r = id(basicTypes(12, 23));\n\nconst f = function<A> (x : A, y : A): bool {\n  return true;\n}\n\nconst arrow = x => x + 1;\n\n/* Records */\n\ntype Rec = {\n  a: string,\n  b: number,\n  c: boolean\n};\n\nconst o = ({a: "hi", b: 12, c: false}: Rec);\n\nconst hi = (o: Rec).a;\n\nconst getHi = (o: Rec) => {\n  const {a: hi}: Rec = o;\n  return hi;\n};\n\n/* Enums */\n\ntype Enum = "aa" | "bb" | "gg";\n\nconst aa = ("aa": Enum);\n\nfunction getEnumIndex(e: Enum): number {\n  switch ((e: Enum)) {\n    case "aa":\n      return 0;\n    case "bb":\n      return 1;\n    default:\n      return 2;\n  }\n}\n\n/* Algebraic data types */\n\ntype Status =\n  | {\n      type: "Error",\n      message: string,\n    }\n  | {\n      type: "Loading",\n    }\n  | {\n      type: "Nothing",\n    };\n\nconst status: Status = ({type: "Error", message: "hi"}: Status);\n\nfunction getMessage(status: Status): string {\n  switch ((status: Status).type) {\n    case "Error": {\n      const {message} = status;\n      return message;\n    }\n    case "Loading":\n      return "loading...";\n    case "Nothing":\n      return "";\n    default:\n      return (status: empty);\n  }\n}\n',Ze=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.output;return a.a.createElement("code",null,a.a.createElement("pre",null,e))}}]),t}(n.PureComponent);r(65);function ze(){if("undefined"!==typeof window){var e=window.sessionStorage.getItem("jsInput");return"string"===typeof e?e:Ge}return Ge}var He=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(r=Object(o.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={jsInput:ze()},r.onChangeJsInput=function(e){var t=e.currentTarget.value;r.setState({jsInput:t}),"undefined"!==typeof window&&window.sessionStorage.setItem("jsInput",t)},r}return Object(l.a)(t,e),Object(i.a)(t,[{key:"getJsAst",value:function(e){try{return Object(b.parse)(e,{plugins:["flow","jsx"],sourceType:"module"})}catch(r){var t=r.loc;return"".concat(r.message,"\n\n").concat(y()(e,t.line,t.column))}}},{key:"getCoqAst",value:function(e,t){try{var r=D(_e(t.program));switch(r.type){case"Error":return function(e,t){return t.map(function(t){var r=Object(g.codeFrameColumns)(e,t.location);return"".concat(r,"\n\n").concat(t.message)}).join("\n\n**********************\n\n")}(e,r.errors);case"Success":return r.value;default:return r}}catch(n){return n.message}}},{key:"getCoqString",value:function(e){return f.a.printer.printDocToString((t=e,r=!0,R(U(C([N,N]),[].concat(Object(h.a)(r?["(* Generated by coq-of-js *)\nRequire Import Coq.Lists.List.\nRequire Import Coq.Strings.String.\nRequire Import Coq.ZArith.ZArith.\n\nImport ListNotations.\nLocal Open Scope string.\nLocal Open Scope Z."]:[]),Object(h.a)(t.map(function(e){return Me(e)})))))),{printWidth:60,tabWidth:2}).formatted;var t,r}},{key:"getOutputs",value:function(e){var t=this.getJsAst(e);if("string"===typeof t)return{coq:t,coqAst:"",jsAst:""};var r=this.getCoqAst(e,t);return"string"===typeof r?{coq:r,coqAst:"",jsAst:""}:{coq:this.getCoqString(r),coqAst:JSON.stringify(r,null,2),jsAst:JSON.stringify(t,null,2)}}},{key:"render",value:function(){var e=this.state.jsInput,t=this.getOutputs(e),r=t.coq,n=t.coqAst,u=t.jsAst;return a.a.createElement("div",null,a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,a.a.createElement("span",{className:"logo"},a.a.createElement("span",{"aria-label":"globe",role:"img"},"\ud83c\udf0d")," ",a.a.createElement("span",{"aria-label":"rooster",role:"img"},"\ud83d\udc13")),"coq-of-js",a.a.createElement("a",{className:"sub-title",href:"https://github.com/clarus/coq-of-js"},"Sources"))),a.a.createElement("div",{className:"split js-source"},a.a.createElement("h2",null,"JavaScript editor"),a.a.createElement("textarea",{onChange:this.onChangeJsInput,value:e})),a.a.createElement("div",{className:"split coq-source"},a.a.createElement("h2",null,"Generated Coq"),a.a.createElement(Ze,{output:r})),a.a.createElement("div",{className:"split js-ast"},a.a.createElement("h2",null,"JavaScript AST"),a.a.createElement(Ze,{output:u})),a.a.createElement("div",{className:"split coq-ast"},a.a.createElement("h2",null,"Coq AST"),a.a.createElement(Ze,{output:n})))}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=document.getElementById("root");Ke&&s.a.render(a.a.createElement(He,null),Ke),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.c92097f1.chunk.js.map