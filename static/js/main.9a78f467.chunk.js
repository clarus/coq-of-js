(window["webpackJsonpcoq-of-js"]=window["webpackJsonpcoq-of-js"]||[]).push([[0],{26:function(e,t,r){e.exports=r(66)},3:function(e,t){},31:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),u=r(22),c=r.n(u),s=(r(31),r(6)),i=r(7),o=r(10),p=r(8),l=r(11),d=r(23),f=r.n(d),b=r(24),y=r(9),m=r.n(y),g=r(25);r(3);var x=r(0),v=r.n(x),h=r(1);var k=v.a.mark(j),w=v.a.mark(A),Y=v.a.mark(S),E=v.a.mark(T);function j(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}},k)}function A(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"All",expressions:e};case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},w)}function O(e,t,r){return e.reduce(v.a.mark(function e(t,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.delegateYield(t,"t1",2);case 2:return e.t2=e.t1,e.t3=n,e.delegateYield((0,e.t0)(e.t2,e.t3),"t4",5);case 5:return e.abrupt("return",e.t4);case 6:case"end":return e.stop()}},e)}),j(t))}function S(e,t){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:"Raise",message:t,node:e};case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},Y)}function T(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(S(e,"Unhandled syntax:\n".concat(JSON.stringify(e,null,2))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},E)}function I(e,t){var r=e.next(t);if(r.done)return{type:"Success",value:r.value};var n=function(){switch(r.value.type){case"All":return function(e){return e.reduce(function(e,t){switch(e.type){case"Error":switch(t.type){case"Error":return{type:"Error",errors:[].concat(Object(h.a)(e.errors),Object(h.a)(t.errors))};case"Success":return{type:"Error",errors:e.errors};default:return t}case"Success":switch(t.type){case"Error":return{type:"Error",errors:t.errors};case"Success":return{type:"Success",value:[].concat(Object(h.a)(e.value),[t.value])};default:return t}default:return e}},{type:"Success",value:[]})}(r.value.expressions.map(function(e){return I(e)}));case"Raise":return{type:"Error",errors:[{location:r.value.node.loc,message:r.value.message}]};default:return r.value}}();switch(n.type){case"Error":return n;case"Success":return I(e,n.value);default:return n}}var C=m.a.builders,P=C.concat,D=C.group,L=C.hardline,V=C.indent,N=C.join,q=C.line,R=C.softline;function B(e,t){return e?D(P(["(",t,")"])):t}var J=r(4),U={Props:"_Props"};function F(e){var t=e.name;return U[t]||t}var W=v.a.mark(z),_=v.a.mark(K),G=v.a.mark(Q);function M(e){switch(e.type){case"Identifier":return F(e);case"QualifiedTypeIdentifier":return F(e.id);default:return e}}function z(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="GenericTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",M(e.id));case 4:return t.delegateYield(S(e,"Expected a type identifier"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},W)}function K(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="BooleanLiteralTypeAnnotation"===t.t0?3:"BooleanTypeAnnotation"===t.t0?5:"EmptyTypeAnnotation"===t.t0?6:"GenericTypeAnnotation"===t.t0?7:"NullLiteralTypeAnnotation"===t.t0?8:"NumberLiteralTypeAnnotation"===t.t0?9:"NumberTypeAnnotation"===t.t0?11:"ObjectTypeAnnotation"===t.t0?12:"StringTypeAnnotation"===t.t0?15:"VoidTypeAnnotation"===t.t0?16:17;break;case 3:return t.delegateYield(S(e,"Boolean literals in types are not handled"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.abrupt("return",{type:"Variable",name:"bool"});case 6:return t.abrupt("return",{type:"Variable",name:"Empty_set"});case 7:return t.abrupt("return",{type:"Variable",name:M(e.id)});case 8:return t.abrupt("return",{type:"Variable",name:"unit"});case 9:return t.delegateYield(S(e,"Number literals in types are not handled"),"t2",10);case 10:return t.abrupt("return",t.t2);case 11:return t.abrupt("return",{type:"Variable",name:"Z"});case 12:if(0!==e.properties.length){t.next=14;break}return t.abrupt("return",{type:"Variable",name:"unit"});case 14:return t.abrupt("return",null);case 15:return t.abrupt("return",{type:"Variable",name:"string"});case 16:return t.abrupt("return",{type:"Variable",name:"unit"});case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}},_)}function Q(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(K(e),"t1",1);case 1:if(t.t0=t.t1,t.t0){t.next=5;break}return t.delegateYield(T(e),"t2",4);case 4:t.t0=t.t2;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}},G)}function X(e){return D(P(["{",V(P([R,N(q,e),q,D(P([":",q,"Type"]))])),R,"}"]))}function Z(e){switch(e.type){case"Variable":return e.name;default:return e}}function $(e,t){return e.reduce(function(e,r){var n=t(r);return n?[].concat(Object(h.a)(e),[n]):e},[])}var H=v.a.mark(ce),ee=v.a.mark(se),te=v.a.mark(ie),re=v.a.mark(oe),ne=v.a.mark(pe),ae=v.a.mark(le),ue={type:"Variable",name:"tt"};function ce(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.key.type,t.next="Identifier"===t.t0?3:"StringLiteral"===t.t0?4:5;break;case 3:return t.abrupt("return",F(e.key));case 4:return t.abrupt("return",e.key.value);case 5:return t.delegateYield(S(e,"Expected a plain string as identifier"),"t1",6);case 6:return t.abrupt("return",t.t1);case 7:case"end":return t.stop()}},H)}function se(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="Identifier"===n.t0?3:"ObjectPattern"===n.t0?4:15;break;case 3:return n.abrupt("return",{type:"Variable",name:F(e)});case 4:if(!e.typeAnnotation){n.next=9;break}return n.delegateYield(z(e.typeAnnotation.typeAnnotation),"t2",6);case 6:n.t1=n.t2,n.next=11;break;case 9:return n.delegateYield(S(e,"Expected a type annotation for the destructuring"),"t3",10);case 10:n.t1=n.t3;case 11:return t=n.t1,n.delegateYield(A(e.properties.map(v.a.mark(function e(t){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectProperty"===e.t0?3:13;break;case 3:e.t1=t.value.type,e.next="Identifier"===e.t1?6:11;break;case 6:return r=t.value,e.delegateYield(ce(t),"t2",8);case 8:return e.t3=e.t2,e.t4=F(r),e.abrupt("return",{name:e.t3,variable:e.t4});case 11:return e.delegateYield(S(t.value,"Expected an identifier"),"t5",12);case 12:return e.abrupt("return",e.t5);case 13:return e.delegateYield(S(t,"Unhandled pattern field"),"t6",14);case 14:return e.abrupt("return",e.t6);case 15:case"end":return e.stop()}},e)}))),"t4",13);case 13:return r=n.t4,n.abrupt("return",{type:"Record",fields:r,record:t});case 15:return n.delegateYield(S(e,"Unhandled left value"),"t5",16);case 16:return n.abrupt("return",n.t5);case 17:case"end":return n.stop()}},ee)}function ie(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteral"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(S(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},te)}function oe(e){var t,r,n,a,u;return v.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e.length){c.next=2;break}return c.abrupt("return",ue);case 2:t=e[0],c.t0=t.type,c.next="ReturnStatement"===c.t0?6:"SwitchStatement"===c.t0?13:"VariableDeclaration"===c.t0?26:43;break;case 6:if(!t.argument){c.next=11;break}return c.delegateYield(le(t.argument),"t2",8);case 8:c.t1=c.t2,c.next=12;break;case 11:c.t1=ue;case 12:return c.abrupt("return",c.t1);case 13:c.t3=t.discriminant.type,c.next="TypeCastExpression"===c.t3?16:24;break;case 16:return r=t.discriminant,n=r.expression,a=r.typeAnnotation,c.delegateYield(A(t.cases.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(oe(t.consequent),"t0",1);case 1:if(e.t1=e.t0,!t.test){e.next=7;break}return e.delegateYield(ie(t.test),"t3",4);case 4:e.t2=e.t3,e.next=9;break;case 7:return e.delegateYield(S(t,"Unhandled default case"),"t4",8);case 8:e.t2=e.t4;case 9:return e.t5=e.t2,e.abrupt("return",{body:e.t1,name:e.t5});case 11:case"end":return e.stop()}},e)}))),"t4",18);case 18:return c.t5=c.t4,c.delegateYield(le(n),"t6",20);case 20:return c.t7=c.t6,c.delegateYield(z(a.typeAnnotation),"t8",22);case 22:return c.t9=c.t8,c.abrupt("return",{type:"EnumDestruct",branches:c.t5,discriminant:c.t7,enum:c.t9,withDefault:!1});case 24:return c.delegateYield(S(t.discriminant,"Missing type annotation"),"t10",25);case 25:return c.abrupt("return",c.t10);case 26:if(1===t.declarations.length){c.next=29;break}return c.delegateYield(S(t,"Expected exactly one definition"),"t11",28);case 28:return c.abrupt("return",c.t11);case 29:return u=t.declarations[0],c.delegateYield(oe(e.slice(1)),"t12",31);case 31:return c.t13=c.t12,c.delegateYield(se(u.id),"t14",33);case 33:if(c.t15=c.t14,!u.init){c.next=39;break}return c.delegateYield(le(u.init),"t17",36);case 36:c.t16=c.t17,c.next=41;break;case 39:return c.delegateYield(S(u,"Expected definition"),"t18",40);case 40:c.t16=c.t18;case 41:return c.t19=c.t16,c.abrupt("return",{type:"Let",body:c.t13,lval:c.t15,value:c.t19});case 43:return c.delegateYield(T(t),"t20",44);case 44:return c.abrupt("return",c.t20);case 45:case"end":return c.stop()}},re)}function pe(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.returnType?e.returnType.typeAnnotation:null,r.delegateYield(A(e.params.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="Identifier"===e.t0?3:12;break;case 3:if(e.t1=t.name,!t.typeAnnotation){e.next=9;break}return e.delegateYield(Q(t.typeAnnotation.typeAnnotation),"t3",6);case 6:e.t2=e.t3,e.next=10;break;case 9:e.t2=null;case 10:return e.t4=e.t2,e.abrupt("return",{name:e.t1,typ:e.t4});case 12:return e.delegateYield(S(t,"Expected simple identifier as function parameter"),"t5",13);case 13:return e.abrupt("return",e.t5);case 14:case"end":return e.stop()}},e)}))),"t0",2);case 2:if(r.t1=r.t0,"BlockStatement"!==e.body.type){r.next=8;break}return r.delegateYield(oe(e.body.body),"t3",5);case 5:r.t2=r.t3,r.next=10;break;case 8:return r.delegateYield(le(e.body),"t4",9);case 9:r.t2=r.t4;case 10:if(r.t5=r.t2,r.t6=t,!r.t6){r.next=15;break}return r.delegateYield(Q(t),"t7",14);case 14:r.t6=r.t7;case 15:return r.t8=r.t6,r.t9=e.typeParameters?$(e.typeParameters.params,function(e){return e.name}):[],r.abrupt("return",{arguments:r.t1,body:r.t5,returnTyp:r.t8,typParameters:r.t9});case 18:case"end":return r.stop()}},ne)}function le(e){var t,r,n,a,u,c;return v.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:s.t0=e.type,s.next="ArrayExpression"===s.t0?3:"ArrowFunctionExpression"===s.t0?12:"BinaryExpression"===s.t0?15:"BooleanLiteral"===s.t0?21:"CallExpression"===s.t0?22:"ConditionalExpression"===s.t0?27:"FunctionExpression"===s.t0?34:"Identifier"===s.t0?37:"LogicalExpression"===s.t0?38:"NullLiteral"===s.t0?44:"NumericLiteral"===s.t0?45:"ObjectExpression"===s.t0?46:"ParenthesizedExpression"===s.t0?50:"StringLiteral"===s.t0?52:"TypeCastExpression"===s.t0?53:"UnaryExpression"===s.t0?74:78;break;case 3:if(!e.elements){s.next=8;break}return s.delegateYield(A(e.elements.map(v.a.mark(function t(r){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return t.delegateYield(S(e,"Expected non-empty elements in the array"),"t0",2);case 2:return t.abrupt("return",t.t0);case 3:if("SpreadElement"!==r.type){t.next=6;break}return t.delegateYield(S(r,"Spreads in arrays are not handled"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:return t.delegateYield(le(r),"t2",7);case 7:return t.abrupt("return",t.t2);case 8:case"end":return t.stop()}},t)}))),"t2",5);case 5:s.t1=s.t2,s.next=10;break;case 8:return s.delegateYield(S(e,"Expected an array expression"),"t3",9);case 9:s.t1=s.t3;case 10:return s.t4=s.t1,s.abrupt("return",{type:"ArrayExpression",elements:s.t4});case 12:return s.delegateYield(pe(e),"t5",13);case 13:return s.t6=s.t5,s.abrupt("return",{type:"FunctionExpression",value:s.t6});case 15:return s.delegateYield(le(e.left),"t7",16);case 16:return s.t8=s.t7,s.t9=e.operator,s.delegateYield(le(e.right),"t10",19);case 19:return s.t11=s.t10,s.abrupt("return",{type:"BinaryExpression",left:s.t8,operator:s.t9,right:s.t11});case 21:return s.abrupt("return",{type:"Constant",value:e.value});case 22:return s.delegateYield(A(e.arguments.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ArgumentPlaceholder"===e.t0?3:"JSXNamespacedName"===e.t0?3:"SpreadElement"===e.t0?3:5;break;case 3:return e.delegateYield(S(t,"Unhandled function argument"),"t1",4);case 4:return e.abrupt("return",e.t1);case 5:return e.delegateYield(le(t),"t2",6);case 6:return e.abrupt("return",e.t2);case 7:case"end":return e.stop()}},e)}))),"t12",23);case 23:return s.t13=s.t12,s.delegateYield(le(e.callee),"t14",25);case 25:return s.t15=s.t14,s.abrupt("return",{type:"CallExpression",arguments:s.t13,callee:s.t15});case 27:return s.delegateYield(le(e.alternate),"t16",28);case 28:return s.t17=s.t16,s.delegateYield(le(e.consequent),"t18",30);case 30:return s.t19=s.t18,s.delegateYield(le(e.test),"t20",32);case 32:return s.t21=s.t20,s.abrupt("return",{type:"ConditionalExpression",alternate:s.t17,consequent:s.t19,test:s.t21});case 34:return s.delegateYield(pe(e),"t22",35);case 35:return s.t23=s.t22,s.abrupt("return",{type:"FunctionExpression",value:s.t23});case 37:return s.abrupt("return",{type:"Variable",name:e.name});case 38:return s.delegateYield(le(e.left),"t24",39);case 39:return s.t25=s.t24,s.t26=e.operator,s.delegateYield(le(e.right),"t27",42);case 42:return s.t28=s.t27,s.abrupt("return",{type:"BinaryExpression",left:s.t25,operator:s.t26,right:s.t28});case 44:return s.abrupt("return",ue);case 45:return s.abrupt("return",{type:"Constant",value:e.value});case 46:if(0!==e.properties.length){s.next=48;break}return s.abrupt("return",ue);case 48:return s.delegateYield(S(e,"Unhandled object expression without type annotation"),"t29",49);case 49:return s.abrupt("return",s.t29);case 50:return s.delegateYield(le(e.expression),"t30",51);case 51:return s.abrupt("return",s.t30);case 52:return s.abrupt("return",{type:"Constant",value:e.value});case 53:s.t31=e.expression.type,s.next="ObjectExpression"===s.t31?56:"StringLiteral"===s.t31?64:69;break;case 56:return s.delegateYield(O(e.expression.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,c,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectProperty"===r.type){e.next=4;break}return e.delegateYield(S(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:if(!r.computed){e.next=7;break}return e.delegateYield(S(r.key,"Unhandled computed property name"),"t1",6);case 6:return e.abrupt("return",e.t1);case 7:return e.delegateYield(ce(r),"t2",8);case 8:if(c=e.t2,s=r.value,"type"!==c){e.next=19;break}return e.t3=[],e.t4=Object(h.a)(a),e.delegateYield(ie(s),"t5",14);case 14:return e.t6=e.t5,e.t7=[e.t6],e.t8=e.t3.concat.call(e.t3,e.t4,e.t7),e.t9=u,e.abrupt("return",[e.t8,e.t9]);case 19:return e.t10=a,e.t11=[],e.t12=Object(h.a)(u),e.t13=c,e.delegateYield(le(s),"t14",24);case 24:return e.t15=e.t14,e.t16={name:e.t13,value:e.t15},e.t17=[e.t16],e.t18=e.t11.concat.call(e.t11,e.t12,e.t17),e.abrupt("return",[e.t10,e.t18]);case 29:case"end":return e.stop()}},e)})),"t32",57);case 57:return t=s.t32,r=Object(J.a)(t,2),n=r[0],a=r[1],s.delegateYield(z(e.typeAnnotation.typeAnnotation),"t33",62);case 62:return u=s.t33,s.abrupt("return",0===n.length?{type:"RecordInstance",record:u,fields:a}:{type:"SumInstance",constr:n[0],fields:a,sum:u});case 64:return c=e.expression.value,s.delegateYield(z(e.typeAnnotation.typeAnnotation),"t34",66);case 66:return s.t35=s.t34,s.t36=c,s.abrupt("return",{type:"EnumInstance",enum:s.t35,instance:s.t36});case 69:return s.delegateYield(le(e.expression),"t37",70);case 70:return s.t38=s.t37,s.delegateYield(Q(e.typeAnnotation.typeAnnotation),"t39",72);case 72:return s.t40=s.t39,s.abrupt("return",{type:"TypeCastExpression",expression:s.t38,typeAnnotation:s.t40});case 74:return s.delegateYield(le(e.argument),"t41",75);case 75:return s.t42=s.t41,s.t43=e.operator,s.abrupt("return",{type:"UnaryExpression",argument:s.t42,operator:s.t43});case 78:return s.delegateYield(T(e),"t44",79);case 79:return s.abrupt("return",s.t44);case 80:case"end":return s.stop()}},ae)}function de(e){return P(e.map(function(e){var t=e.name,r=e.typ;return P([q,r?D(P(["(",t,q,":",q,Z(r),")"])):t])}))}function fe(e,t){return D(P(["{|",V(P(t.map(function(t){var r=t.name,n=t.value;return P([q,D(P([D(P(["".concat(e,".").concat(r),q,":="])),V(P([q,n,";"]))]))])}))),q,"|}"]))}function be(e){switch(e.type){case"Record":return P(["'",fe(e.record,e.fields.map(function(e){return{name:e.name,value:e.variable}}))]);case"Variable":return e.name;default:return e}}function ye(e,t){switch(t.type){case"ArrayExpression":return 0===t.elements.length?"[]":D(P(["[",V(P([q,N(P([",",q]),t.elements.map(function(e){return ye(!1,e)}))])),q,"]"]));case"BinaryExpression":return B(e,D(N(q,[ye(!0,t.left),t.operator,ye(!0,t.right)])));case"CallExpression":return B(e,D(V(N(q,[ye(!0,t.callee)].concat(Object(h.a)(t.arguments.map(function(e){return ye(!0,e)})))))));case"ConditionalExpression":return B(e,D(P([D(P(["if",q,ye(!1,t.test),q,"then"])),V(P([q,ye(!1,t.consequent)])),q,"else",V(P([q,ye(!1,t.alternate)]))])));case"Constant":return JSON.stringify(t.value);case"EnumDestruct":return D(P([D(P(["match",q,ye(!1,t.discriminant),q,"with"])),L].concat(Object(h.a)(t.branches.map(function(e){var r=e.body,n=e.name;return D(P(["|",q,"".concat(t.enum,".").concat(n),q,"=>",q,ye(!1,r),L]))})),["end"])));case"EnumInstance":return"".concat(t.enum,".").concat(t.instance);case"FunctionExpression":return B(e,D(P([D(P(["fun",V(P([].concat(Object(h.a)(0!==t.value.typParameters.length?[q,X(t.value.typParameters)]:[]),[de(t.value.arguments)]))),q,"=>"])),V(P([q,ye(!1,t.value.body)]))])));case"Let":return D(P([D(P(["let",q,be(t.lval),q,":="])),V(P([q,ye(!1,t.value)])),q,"in",L,ye(!1,t.body)]));case"RecordInstance":return fe(t.record,t.fields.map(function(e){return{name:e.name,value:ye(!1,e.value)}}));case"SumInstance":var r="".concat(t.sum,".").concat(t.constr);return 0===t.fields.length?r:B(e,D(P([r,q,fe(r,t.fields.map(function(e){return{name:e.name,value:ye(!1,e.value)}}))])));case"TypeCastExpression":return D(P(["(",R,ye(!0,t.expression),q,":",q,Z(t.typeAnnotation),R,")"]));case"UnaryExpression":return B(e,D(P([t.operator,q,ye(!0,t.argument)])));case"Variable":return t.name;default:return t}}var me=v.a.mark(ke),ge=v.a.mark(we),xe=v.a.mark(Ye),ve=v.a.mark(Ee);function he(e){switch(e.key.type){case"Identifier":return F(e.key);case"StringLiteral":return e.key.value;default:return e.key}}function ke(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteralTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(S(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},me)}function we(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="StringLiteralTypeAnnotation"===e.t0?3:4;break;case 3:return e.abrupt("return",t.value);case 4:return e.delegateYield(S(t,"Only strings are handled in enums"),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Enum",names:t});case 3:case"end":return r.stop()}},ge)}function Ye(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.map(v.a.mark(function e(t){var r,n,a,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeAnnotation"===e.t0?3:16;break;case 3:return e.delegateYield(O(t.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectTypeProperty"===r.type){e.next=4;break}return e.delegateYield(S(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:return c=he(r),e.abrupt("return","type"===c?[[].concat(Object(h.a)(a),[r]),u]:[a,[].concat(Object(h.a)(u),[r])]);case 6:case"end":return e.stop()}},e)})),"t1",4);case 4:if(r=e.t1,n=Object(J.a)(r,2),a=n[0],u=n[1],0!==a.length){e.next=11;break}return e.delegateYield(S(t,"Expected at least one field with the name `type`"),"t2",10);case 10:return e.abrupt("return",e.t2);case 11:return e.delegateYield(ke(a[0].value),"t3",12);case 12:return e.t4=e.t3,e.delegateYield(A(u.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=he(t),e.delegateYield(Q(t.value),"t1",2);case 2:return e.t2=e.t1,e.abrupt("return",{name:e.t0,typ:e.t2});case 4:case"end":return e.stop()}},e)}))),"t5",14);case 14:return e.t6=e.t5,e.abrupt("return",{name:e.t4,fields:e.t6});case 16:return e.delegateYield(S(t,"Only objects are handled in sum types"),"t7",17);case 17:return e.abrupt("return",e.t7);case 18:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Sum",constructors:t});case 3:case"end":return r.stop()}},xe)}function Ee(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(K(e),"t0",1);case 1:if(!(t=n.t0)){n.next=4;break}return n.abrupt("return",{type:"Synonym",typ:t});case 4:n.t1=e.type,n.next="ObjectTypeAnnotation"===n.t1?7:"StringLiteralTypeAnnotation"===n.t1?14:"UnionTypeAnnotation"===n.t1?16:27;break;case 7:if(!e.properties.some(function(e){return"ObjectTypeProperty"===e.type&&"type"===he(e)})){n.next=11;break}return n.delegateYield(Ye([e]),"t2",10);case 10:return n.abrupt("return",n.t2);case 11:return n.delegateYield(A(e.properties.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ObjectTypeProperty"===t.type){e.next=3;break}return e.delegateYield(S(t,"Expected named property"),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:return e.t1=he(t),e.delegateYield(Q(t.value),"t2",5);case 5:return e.t3=e.t2,e.abrupt("return",{name:e.t1,typ:e.t3});case 7:case"end":return e.stop()}},e)}))),"t3",12);case 12:return r=n.t3,n.abrupt("return",{type:"Record",fields:r});case 14:return n.delegateYield(we([e]),"t4",15);case 15:return n.abrupt("return",n.t4);case 16:if(0!==e.types.length){n.next=18;break}return n.abrupt("return",{type:"Synonym",typ:{type:"Variable",name:"Empty_set"}});case 18:n.t5=e.types[0].type,n.next="ObjectTypeAnnotation"===n.t5?21:"StringLiteralTypeAnnotation"===n.t5?23:25;break;case 21:return n.delegateYield(Ye(e.types),"t6",22);case 22:return n.abrupt("return",n.t6);case 23:return n.delegateYield(we(e.types),"t7",24);case 24:return n.abrupt("return",n.t7);case 25:return n.delegateYield(S(e,"Only handle unions of strings or objects with a `type` field"),"t8",26);case 26:return n.abrupt("return",n.t8);case 27:return n.delegateYield(T(e),"t9",28);case 28:return n.abrupt("return",n.t9);case 29:case"end":return n.stop()}},ve)}function je(e,t){return D(P([D(P(["Module",q,e,"."])),V(P([L,t])),D(P([L,"End",q,e,"."]))]))}function Ae(e,t){return P([D(P(["Record",q,"t",q,":=",q,"{"])),V(P(t.map(function(e){var t=e.name,r=e.typ;return P([L,t,q,":",q,Z(r),R,";"])}))),L,"}."])}function Oe(e){return D(P(["Definition",q,e,q,":=",q,"".concat(e,".t"),"."]))}var Se=v.a.mark(Ie),Te=v.a.mark(Ce);function Ie(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="Identifier"===t.t0?3:4;break;case 3:return t.abrupt("return",e);case 4:return t.delegateYield(S(e,"Expected simple identifier"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},Se)}function Ce(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="ExportNamedDeclaration"===n.t0?3:"FunctionDeclaration"===n.t0?11:"ImportDeclaration"===n.t0?21:"TypeAlias"===n.t0?25:"VariableDeclaration"===n.t0?30:32;break;case 3:if(!e.declaration){n.next=8;break}return n.delegateYield(Ce(e.declaration),"t2",5);case 5:n.t1=n.t2,n.next=10;break;case 8:return n.delegateYield(S(e,"Expected a declaration"),"t3",9);case 9:n.t1=n.t3;case 10:return n.abrupt("return",n.t1);case 11:return n.delegateYield(pe(e),"t4",12);case 12:if(t=n.t4,!e.id){n.next=17;break}n.t5=e.id.name,n.next=19;break;case 17:return n.delegateYield(S(e,"Expected named function"),"t6",18);case 18:n.t5=n.t6;case 19:return r=n.t5,n.abrupt("return",[{type:"Definition",arguments:t.arguments,body:t.body,name:r,returnTyp:t.returnTyp,typParameters:t.typParameters}]);case 21:if("react"!==e.source.value){n.next=23;break}return n.abrupt("return",[]);case 23:return n.delegateYield(S(e,"Only handle imports from React for now"),"t7",24);case 24:return n.abrupt("return",n.t7);case 25:return n.t8=F(e.id),n.delegateYield(Ee(e.right),"t9",27);case 27:return n.t10=n.t9,n.t11={type:"TypeDefinition",name:n.t8,typDefinition:n.t10},n.abrupt("return",[n.t11]);case 30:return n.delegateYield(A(e.declarations.map(v.a.mark(function e(t){var r,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Ie(t.id),"t0",1);case 1:if(r=e.t0,n=r.typeAnnotation?r.typeAnnotation.typeAnnotation:null,e.t1=[],!t.init){e.next=9;break}return e.delegateYield(le(t.init),"t3",6);case 6:e.t2=e.t3,e.next=11;break;case 9:return e.delegateYield(S(t,"Expected definition"),"t4",10);case 10:e.t2=e.t4;case 11:if(e.t5=e.t2,e.t6=r.name,e.t7=n,!e.t7){e.next=17;break}return e.delegateYield(Q(n),"t8",16);case 16:e.t7=e.t8;case 17:return e.t9=e.t7,e.t10=[],e.abrupt("return",{type:"Definition",arguments:e.t1,body:e.t5,name:e.t6,returnTyp:e.t9,typParameters:e.t10});case 20:case"end":return e.stop()}},e)}))),"t12",31);case 31:return n.abrupt("return",n.t12);case 32:return n.delegateYield(T(e),"t13",33);case 33:return n.abrupt("return",n.t13);case 34:case"end":return n.stop()}},Te)}function Pe(e){switch(e.type){case"Definition":return D(P([D(P(["Definition",q,e.name])),V(P([].concat(Object(h.a)(0!==e.typParameters.length?[q,X(e.typParameters)]:[]),[de(e.arguments),q,(t=e.returnTyp,r=":=",D(P([].concat(Object(h.a)(t?[":",q,Z(t),q]:[]),[r])))),L,ye(!1,e.body),"."])))]));case"TypeDefinition":return function(e,t){switch(t.type){case"Enum":var r=je(e,P([D(P(["Inductive",q,"t",q,":="]))].concat(Object(h.a)(t.names.map(function(e){return D(P([L,"|",q,e]))})),["."])));return P([r,L,Oe(e)]);case"Record":return P([je(e,Ae(0,t.fields)),L,Oe(e)]);case"Sum":var n=je(e,P([N(P([L,L]),[].concat(Object(h.a)($(t.constructors,function(e){return 0!==e.fields.length?je(e.name,Ae(0,e.fields)):null})),[D(P([D(P(["Inductive",q,"t",q,":="]))].concat(Object(h.a)(t.constructors.map(function(e){var t=e.name,r=e.fields;return D(P([L,"|",q,t].concat(Object(h.a)(0!==r.length?[q,"(",R,"_",q,":",q,t,".t",R,")"]:[]))))})),["."])))]))]));return P([n,L,Oe(e)]);case"Synonym":return D(P([D(P(["Definition",q,e,q,":",q,"Type",q,":="])),V(P([q,Z(t.typ),"."]))]));default:return t}}(e.name,e.typDefinition);default:return e}var t,r}var De=v.a.mark(Le);function Le(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.body.map(function(e){return Ce(e)})),"t0",1);case 1:return t=r.t0,r.abrupt("return",t.reduce(function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))},[]));case 3:case"end":return r.stop()}},De)}var Ve='type Rec = {\n  a: string,\n  b: number,\n  c: boolean\n};\n\nconst o = ({a: "hi", b: 12, c: false}: Rec);\n\ntype Status =\n  | {\n      type: "Error",\n      message: string,\n    }\n  | {\n      type: "Loading",\n    }\n  | {\n      type: "Nothing",\n    };\n\nconst status: Status = ({type: "Error", message: "hi"}: Status);\n\nconst\n  b: boolean = false && true,\n  n: number = -12 + 23;\n\nconst s = "hi";\n\nconst a = [1, (2 : number), 3];\n\nconst cond = b ? "a" : \'b\';\n\nfunction id<A, B>(x: A): A {\n  return x;\n}\n\nfunction basicTypes(n: number, m: number): string {\n  return "OK";\n}\n\nconst r = id(basicTypes(12, 23));\n\nconst f = function<A> (x : A, y : A): bool {\n  return true;\n}\n\nconst arrow = x => x + 1;\n',Ne=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.output;return a.a.createElement("code",null,a.a.createElement("pre",null,"string"!==typeof e?JSON.stringify(e,null,2):e))}}]),t}(n.PureComponent),qe=(r(65),function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(r=Object(o.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={jsInput:"undefined"!==typeof window&&window.sessionStorage.getItem("jsInput")||Ve},r.onChangeJsInput=function(e){var t=e.currentTarget.value;r.setState({jsInput:t}),"undefined"!==typeof window&&window.sessionStorage.setItem("jsInput",t)},r}return Object(l.a)(t,e),Object(i.a)(t,[{key:"getJsAst",value:function(e){try{return Object(b.parse)(e,{plugins:["flow","jsx"],sourceType:"module"})}catch(r){var t=r.loc;if(t)return"".concat(r.message,"\n\n").concat(f()(e,t.line,t.column))}}},{key:"getCoqAst",value:function(e,t){try{var r=I(Le(t.program));switch(r.type){case"Error":return function(e,t){return t.map(function(t){var r=Object(g.codeFrameColumns)(e,t.location);return"".concat(r,"\n\n").concat(t.message)}).join("\n\n**********************\n\n")}(e,r.errors);case"Success":return r.value;default:return r}}catch(n){return n.message}}},{key:"getCoqString",value:function(e){return m.a.printer.printDocToString((t=e,D(N(P([L,L]),t.map(function(e){return Pe(e)})))),{printWidth:60,tabWidth:2}).formatted;var t}},{key:"render",value:function(){var e=this.state.jsInput,t=this.getJsAst(e),r="string"!==typeof t?this.getCoqAst(e,t):"",n="string"!==typeof r?this.getCoqString(r):"";return a.a.createElement("div",null,a.a.createElement("div",{className:"split js-source"},a.a.createElement("h1",null,a.a.createElement("span",{"aria-label":"globe",role:"img"},"\ud83c\udf0d")," JavaScript editor"),a.a.createElement("textarea",{onChange:this.onChangeJsInput,value:e})),a.a.createElement("div",{className:"split js-ast"},a.a.createElement("h1",null,"JavaScript AST"),a.a.createElement(Ne,{output:t})),a.a.createElement("div",{className:"split coq-ast"},a.a.createElement("h1",null,"Coq AST"),a.a.createElement(Ne,{output:r})),a.a.createElement("div",{className:"split coq-source"},a.a.createElement("h1",null,a.a.createElement("span",{"aria-label":"rooster",role:"img"},"\ud83d\udc13")," Generated Coq"),a.a.createElement(Ne,{output:n})))}}]),t}(n.PureComponent));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=document.getElementById("root");Re&&c.a.render(a.a.createElement(qe,null),Re),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.9a78f467.chunk.js.map