(this["webpackJsonpcoq-of-js"]=this["webpackJsonpcoq-of-js"]||[]).push([[0],{26:function(e,t,r){e.exports=r(66)},3:function(e,t){},31:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),u=r(22),c=r.n(u),s=(r(31),r(6)),i=r(7),o=r(10),l=r(8),p=r(11),d=r(23),b=r.n(d),m=r(24),f=r(9),y=r.n(f),g=(r(3),r(25));var x=r(1),h=r(0),v=r.n(h);var Y=v.a.mark(j),k=v.a.mark(A),w=v.a.mark(D),E=v.a.mark(q);function j(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}},Y)}function A(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"All",expressions:e};case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},k)}function S(e,t,r){return e.reduce(v.a.mark(function e(t,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.delegateYield(t,"t1",2);case 2:return e.t2=e.t1,e.t3=n,e.delegateYield((0,e.t0)(e.t2,e.t3),"t4",5);case 5:return e.abrupt("return",e.t4);case 6:case"end":return e.stop()}},e)}),j(t))}function O(e,t){return S(e,[],v.a.mark(function e(r,n){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t(n),"t0",1);case 1:return a=e.t0,e.abrupt("return",a?[].concat(Object(x.a)(r),[a]):r);case 3:case"end":return e.stop()}},e)}))}function T(e,t){return S(e,!1,v.a.mark(function e(r,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t0){e.next=4;break}return e.delegateYield(t(n),"t1",3);case 3:e.t0=e.t1;case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e)}))}function D(e,t){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:"Raise",message:t,node:e};case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},w)}function q(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(D(e,"Unhandled syntax:\n".concat(JSON.stringify(e,null,2))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},E)}function I(e,t){var r=e.next(t);if(r.done)return{type:"Success",value:r.value};var n=function(){switch(r.value.type){case"All":return function(e){return e.reduce(function(e,t){switch(e.type){case"Error":switch(t.type){case"Error":return{type:"Error",errors:[].concat(Object(x.a)(e.errors),Object(x.a)(t.errors))};case"Success":return{type:"Error",errors:e.errors};default:return t}case"Success":switch(t.type){case"Error":return{type:"Error",errors:t.errors};case"Success":return{type:"Success",value:[].concat(Object(x.a)(e.value),[t.value])};default:return t}default:return e}},{type:"Success",value:[]})}(r.value.expressions.map(function(e){return I(e)}));case"Raise":return{type:"Error",errors:[{location:r.value.node.loc,message:r.value.message}]};default:return r.value}}();switch(n.type){case"Error":return n;case"Success":return I(e,n.value);default:return n}}var C=y.a.builders,N=C.concat,P=C.group,R=C.hardline,L=C.indent,B=C.join,U=C.line,V=C.softline;function F(e,t){return e?P(N(["(",t,")"])):t}var J=r(4),M={Props:"_Props"};function W(e){var t=e.name;return M[t]||t}var _=v.a.mark(H),G=v.a.mark(Q),Z=v.a.mark($),z=v.a.mark(X);function H(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="Identifier"===t.t0?3:"StringLiteral"===t.t0?4:5;break;case 3:return t.abrupt("return",W(e));case 4:return t.abrupt("return",e.value);case 5:return t.delegateYield(D(e,"Computed key name not handled"),"t1",6);case 6:return t.abrupt("return",t.t1);case 7:case"end":return t.stop()}},_)}function K(e){switch(e.type){case"Identifier":return W(e);case"QualifiedTypeIdentifier":return"".concat(K(e.qualification),".").concat(W(e.id));default:return e}}function Q(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="GenericTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",K(e.id));case 4:return t.delegateYield(D(e,"Expected a type identifier"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},G)}function $(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="BooleanLiteralTypeAnnotation"===t.t0?3:"BooleanTypeAnnotation"===t.t0?5:"EmptyTypeAnnotation"===t.t0?6:"GenericTypeAnnotation"===t.t0?7:"NullLiteralTypeAnnotation"===t.t0?8:"NumberLiteralTypeAnnotation"===t.t0?9:"NumberTypeAnnotation"===t.t0?11:"ObjectTypeAnnotation"===t.t0?12:"StringTypeAnnotation"===t.t0?15:"VoidTypeAnnotation"===t.t0?16:17;break;case 3:return t.delegateYield(D(e,"Boolean literals in types are not handled"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.abrupt("return",{type:"Variable",name:"bool"});case 6:return t.abrupt("return",{type:"Variable",name:"Empty_set"});case 7:return t.abrupt("return",{type:"Variable",name:K(e.id)});case 8:return t.abrupt("return",{type:"Variable",name:"unit"});case 9:return t.delegateYield(D(e,"Number literals in types are not handled"),"t2",10);case 10:return t.abrupt("return",t.t2);case 11:return t.abrupt("return",{type:"Variable",name:"Z"});case 12:if(0!==e.properties.length){t.next=14;break}return t.abrupt("return",{type:"Variable",name:"unit"});case 14:return t.abrupt("return",null);case 15:return t.abrupt("return",{type:"Variable",name:"string"});case 16:return t.abrupt("return",{type:"Variable",name:"unit"});case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}},Z)}function X(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield($(e),"t1",1);case 1:if(t.t0=t.t1,t.t0){t.next=5;break}return t.delegateYield(q(e),"t2",4);case 4:t.t0=t.t2;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}},z)}function ee(e){return P(N(["{",L(N([V,B(U,e),U,P(N([":",U,"Type"]))])),V,"}"]))}function te(e){switch(e.type){case"Variable":return e.name;default:return e}}function re(e,t){return e.reduce(function(e,r){var n=t(r);return n?[].concat(Object(x.a)(e),[n]):e},[])}var ne=v.a.mark(de),ae=v.a.mark(be),ue=v.a.mark(me),ce=v.a.mark(fe),se=v.a.mark(ge),ie=v.a.mark(xe),oe=v.a.mark(he),le=v.a.mark(ve),pe={type:"Variable",name:"tt"};function de(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(H(e.key),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},ne)}function be(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(A(e.properties.map(v.a.mark(function e(t){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectProperty"===e.t0?3:"RestElement"===e.t0?13:15;break;case 3:e.t1=t.value.type,e.next="Identifier"===e.t1?6:11;break;case 6:return r=t.value,e.delegateYield(de(t),"t2",8);case 8:return e.t3=e.t2,e.t4=W(r),e.abrupt("return",{name:e.t3,variable:e.t4});case 11:return e.delegateYield(D(t.value,"Expected an identifier"),"t5",12);case 12:return e.abrupt("return",e.t5);case 13:return e.delegateYield(D(t,"Unhandled rest element for record destructuring"),"t6",14);case 14:return e.abrupt("return",e.t6);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},ae)}function me(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="ArrayPattern"===n.t0?3:"AssignmentPattern"===n.t0?5:"Identifier"===n.t0?7:"MemberExpression"===n.t0?8:"ObjectPattern"===n.t0?10:"RestElement"===n.t0?21:23;break;case 3:return n.delegateYield(D(e,"Unhandled array patterns"),"t1",4);case 4:return n.abrupt("return",n.t1);case 5:return n.delegateYield(D(e,"Unexpected assignment patterns"),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:return n.abrupt("return",{type:"Variable",name:W(e)});case 8:return n.delegateYield(D(e,"Unexpected member access"),"t3",9);case 9:return n.abrupt("return",n.t3);case 10:if(!e.typeAnnotation){n.next=15;break}return n.delegateYield(Q(e.typeAnnotation.typeAnnotation),"t5",12);case 12:n.t4=n.t5,n.next=17;break;case 15:return n.delegateYield(D(e,"Expected a type annotation for record destructuring"),"t6",16);case 16:n.t4=n.t6;case 17:return t=n.t4,n.delegateYield(be(e),"t7",19);case 19:return r=n.t7,n.abrupt("return",{type:"Record",fields:r,record:t});case 21:return n.delegateYield(D(e,"Unexpected rest elements"),"t8",22);case 22:return n.abrupt("return",n.t8);case 23:return n.abrupt("return",e);case 24:case"end":return n.stop()}},ue)}function fe(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteral"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(D(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},ce)}function ye(e){if(e.length>=1){var t=e[0];switch(t.type){case"BlockStatement":return ye(t.body);case"ReturnStatement":if(t.argument)switch(t.argument.type){case"TypeCastExpression":switch(t.argument.typeAnnotation.typeAnnotation.type){case"EmptyTypeAnnotation":return!0;default:return!1}default:return!1}return!1;default:return!1}}return!1}function ge(e,t){var r,n,a,u;return v.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r={fields:[],trailingStatements:e},0!==e.length){c.next=3;break}return c.abrupt("return",r);case 3:n=e[0],c.t0=n.type,c.next="BlockStatement"===c.t0?7:"VariableDeclaration"===c.t0?9:30;break;case 7:return c.delegateYield(ge([].concat(Object(x.a)(n.body),Object(x.a)(e.slice(1))),t),"t1",8);case 8:return c.abrupt("return",c.t1);case 9:if(1===n.declarations.length){c.next=12;break}return c.delegateYield(D(n,"Expected a single definition of variable"),"t2",11);case 11:return c.abrupt("return",c.t2);case 12:if(!(a=n.declarations[0]).init){c.next=29;break}c.t3=a.init.type,c.next="Identifier"===c.t3?17:28;break;case 17:if(a.init.name!==t){c.next=27;break}c.t4=a.id.type,c.next="ObjectPattern"===c.t4?22:25;break;case 22:return c.delegateYield(be(a.id),"t5",23);case 23:return u=c.t5,c.abrupt("return",{fields:u,trailingStatements:e.slice(1)});case 25:return c.delegateYield(D(a.id,"Expected an object pattern to destructure a sum type"),"t6",26);case 26:return c.abrupt("return",c.t6);case 27:case 28:case 29:case 30:return c.abrupt("return",r);case 31:case"end":return c.stop()}},se)}function xe(e){var t,r,n,a,u,c,s,i,o,l,p,d,b,m,f,y,g;return v.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(0!==e.length){h.next=2;break}return h.abrupt("return",pe);case 2:t=e[0],h.t0=t.type,h.next="BlockStatement"===h.t0?6:"ReturnStatement"===h.t0?8:"SwitchStatement"===h.t0?15:"VariableDeclaration"===h.t0?70:87;break;case 6:return h.delegateYield(xe([].concat(Object(x.a)(t.body),Object(x.a)(e.slice(1)))),"t1",7);case 7:return h.abrupt("return",h.t1);case 8:if(!t.argument){h.next=13;break}return h.delegateYield(ve(t.argument),"t3",10);case 10:h.t2=h.t3,h.next=14;break;case 13:h.t2=pe;case 14:return h.abrupt("return",h.t2);case 15:h.t4=t.discriminant.type,h.next="MemberExpression"===h.t4?18:"TypeCastExpression"===h.t4?51:68;break;case 18:return r=t.discriminant,h.delegateYield(H(r.property),"t5",20);case 20:if("type"===h.t5){h.next=24;break}return h.delegateYield(D(r.property,"Expected an access on the `type` field to destructure a sum type"),"t6",23);case 23:return h.abrupt("return",h.t6);case 24:h.t7=r.object.type,h.next="TypeCastExpression"===h.t7?27:49;break;case 27:return n=r.object,a=n.expression,u=n.typeAnnotation,h.delegateYield(Q(u.typeAnnotation),"t8",29);case 29:c=h.t8,h.t9=a.type,h.next="Identifier"===h.t9?33:47;break;case 33:return s=a.name,h.delegateYield(O(t.cases,v.a.mark(function e(t){var r,n,a,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.consequent,n=t.test){e.next=3;break}return e.abrupt("return",null);case 3:return e.delegateYield(ge(r,s),"t0",4);case 4:return a=e.t0,u=a.fields,c=a.trailingStatements,e.delegateYield(xe(c),"t1",8);case 8:return e.t2=e.t1,e.t3=u,e.delegateYield(fe(n),"t4",11);case 11:return e.t5=e.t4,e.abrupt("return",{body:e.t2,fields:e.t3,name:e.t5});case 13:case"end":return e.stop()}},e)})),"t10",35);case 35:if(i=h.t10,o=t.cases.find(function(e){return!e.test&&!ye(e.consequent)})||null,h.t11=i,h.t12=o,!h.t12){h.next=42;break}return h.delegateYield(xe(o.consequent),"t13",41);case 41:h.t12=h.t13;case 42:return h.t14=h.t12,h.delegateYield(ve(a),"t15",44);case 44:return h.t16=h.t15,h.t17=c,h.abrupt("return",{type:"SumDestruct",branches:h.t11,defaultBranch:h.t14,discriminant:h.t16,sum:h.t17});case 47:return h.delegateYield(D(a,"Expected a switch on an identifier to destructure a sum type"),"t18",48);case 48:return h.abrupt("return",h.t18);case 49:return h.delegateYield(D(r.object,"Expected a type annotation on this expression to destructure a sum type"),"t19",50);case 50:return h.abrupt("return",h.t19);case 51:return l=t.discriminant,p=l.expression,d=l.typeAnnotation,h.delegateYield(S(t.cases,{accumulatedNames:[],branches:[]},v.a.mark(function e(t,r){var n,a,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.accumulatedNames,a=t.branches,r.test){e.next=3;break}return e.abrupt("return",{accumulatedNames:[],branches:a});case 3:return e.delegateYield(fe(r.test),"t0",4);case 4:if(u=e.t0,c=[].concat(Object(x.a)(n),[u]),0!==r.consequent.length){e.next=8;break}return e.abrupt("return",{accumulatedNames:c,branches:a});case 8:return e.t1=[],e.t2=[],e.t3=Object(x.a)(a),e.delegateYield(xe(r.consequent),"t4",12);case 12:return e.t5=e.t4,e.t6=c,e.t7={body:e.t5,names:e.t6},e.t8=[e.t7],e.t9=e.t2.concat.call(e.t2,e.t3,e.t8),e.abrupt("return",{accumulatedNames:e.t1,branches:e.t9});case 18:case"end":return e.stop()}},e)})),"t20",53);case 53:if(b=h.t20,m=b.accumulatedNames,f=b.branches,y=t.cases.find(function(e){return!e.test&&!ye(e.consequent)})||null,h.t21=[].concat(Object(x.a)(f),Object(x.a)(0!==m.length?[{body:pe,names:m}]:[])),h.t22=y,!h.t22){h.next=62;break}return h.delegateYield(xe(y.consequent),"t23",61);case 61:h.t22=h.t23;case 62:return h.t24=h.t22,h.delegateYield(ve(p),"t25",64);case 64:return h.t26=h.t25,h.delegateYield(Q(d.typeAnnotation),"t27",66);case 66:return h.t28=h.t27,h.abrupt("return",{type:"EnumDestruct",branches:h.t21,defaultBranch:h.t24,discriminant:h.t26,typName:h.t28});case 68:return h.delegateYield(D(t.discriminant,"Missing type annotation to destructure an enum"),"t29",69);case 69:return h.abrupt("return",h.t29);case 70:if(1===t.declarations.length){h.next=73;break}return h.delegateYield(D(t,"Expected exactly one definition"),"t30",72);case 72:return h.abrupt("return",h.t30);case 73:return g=t.declarations[0],h.delegateYield(xe(e.slice(1)),"t31",75);case 75:return h.t32=h.t31,h.delegateYield(me(g.id),"t33",77);case 77:if(h.t34=h.t33,!g.init){h.next=83;break}return h.delegateYield(ve(g.init),"t36",80);case 80:h.t35=h.t36,h.next=85;break;case 83:return h.delegateYield(D(g,"Expected a definition with a value"),"t37",84);case 84:h.t35=h.t37;case 85:return h.t38=h.t35,h.abrupt("return",{type:"Let",body:h.t32,lval:h.t34,value:h.t38});case 87:return h.delegateYield(q(t),"t39",88);case 88:return h.abrupt("return",h.t39);case 89:case"end":return h.stop()}},ie)}function he(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.returnType?e.returnType.typeAnnotation:null,r.delegateYield(A(e.params.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="Identifier"===e.t0?3:12;break;case 3:if(e.t1=t.name,!t.typeAnnotation){e.next=9;break}return e.delegateYield(X(t.typeAnnotation.typeAnnotation),"t3",6);case 6:e.t2=e.t3,e.next=10;break;case 9:e.t2=null;case 10:return e.t4=e.t2,e.abrupt("return",{name:e.t1,typ:e.t4});case 12:return e.delegateYield(D(t,"Expected simple identifier as function parameter"),"t5",13);case 13:return e.abrupt("return",e.t5);case 14:case"end":return e.stop()}},e)}))),"t0",2);case 2:if(r.t1=r.t0,"BlockStatement"!==e.body.type){r.next=8;break}return r.delegateYield(xe(e.body.body),"t3",5);case 5:r.t2=r.t3,r.next=10;break;case 8:return r.delegateYield(ve(e.body),"t4",9);case 9:r.t2=r.t4;case 10:if(r.t5=r.t2,r.t6=t,!r.t6){r.next=15;break}return r.delegateYield(X(t),"t7",14);case 14:r.t6=r.t7;case 15:return r.t8=r.t6,r.t9=e.typeParameters?re(e.typeParameters.params,function(e){return e.name}):[],r.abrupt("return",{arguments:r.t1,body:r.t5,returnTyp:r.t8,typParameters:r.t9});case 18:case"end":return r.stop()}},oe)}function ve(e){var t,r,n,a,u,c,s,i,o,l,p;return v.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:d.t0=e.type,d.next="ArrayExpression"===d.t0?3:"ArrowFunctionExpression"===d.t0?12:"BinaryExpression"===d.t0?15:"BooleanLiteral"===d.t0?21:"CallExpression"===d.t0?22:"ConditionalExpression"===d.t0?27:"FunctionExpression"===d.t0?34:"Identifier"===d.t0?37:"LogicalExpression"===d.t0?38:"MemberExpression"===d.t0?44:"NullLiteral"===d.t0?59:"NumericLiteral"===d.t0?60:"ObjectExpression"===d.t0?61:"ParenthesizedExpression"===d.t0?65:"StringLiteral"===d.t0?67:"TypeCastExpression"===d.t0?68:"UnaryExpression"===d.t0?89:93;break;case 3:if(!e.elements){d.next=8;break}return d.delegateYield(A(e.elements.map(v.a.mark(function t(r){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return t.delegateYield(D(e,"Expected non-empty elements in the array"),"t0",2);case 2:return t.abrupt("return",t.t0);case 3:if("SpreadElement"!==r.type){t.next=6;break}return t.delegateYield(D(r,"Spreads in arrays are not handled"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:return t.delegateYield(ve(r),"t2",7);case 7:return t.abrupt("return",t.t2);case 8:case"end":return t.stop()}},t)}))),"t2",5);case 5:d.t1=d.t2,d.next=10;break;case 8:return d.delegateYield(D(e,"Unexpected empty array expression"),"t3",9);case 9:d.t1=d.t3;case 10:return d.t4=d.t1,d.abrupt("return",{type:"ArrayExpression",elements:d.t4});case 12:return d.delegateYield(he(e),"t5",13);case 13:return d.t6=d.t5,d.abrupt("return",{type:"FunctionExpression",value:d.t6});case 15:return d.delegateYield(ve(e.left),"t7",16);case 16:return d.t8=d.t7,d.t9=e.operator,d.delegateYield(ve(e.right),"t10",19);case 19:return d.t11=d.t10,d.abrupt("return",{type:"BinaryExpression",left:d.t8,operator:d.t9,right:d.t11});case 21:return d.abrupt("return",{type:"Constant",value:e.value});case 22:return d.delegateYield(A(e.arguments.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ArgumentPlaceholder"===e.t0?3:"SpreadElement"===e.t0?5:7;break;case 3:return e.delegateYield(D(t,"Unhandled partial application"),"t1",4);case 4:return e.abrupt("return",e.t1);case 5:return e.delegateYield(D(t,"Unhandled spread parameters"),"t2",6);case 6:return e.abrupt("return",e.t2);case 7:return e.delegateYield(ve(t),"t3",8);case 8:return e.abrupt("return",e.t3);case 9:case"end":return e.stop()}},e)}))),"t12",23);case 23:return d.t13=d.t12,d.delegateYield(ve(e.callee),"t14",25);case 25:return d.t15=d.t14,d.abrupt("return",{type:"CallExpression",arguments:d.t13,callee:d.t15});case 27:return d.delegateYield(ve(e.alternate),"t16",28);case 28:return d.t17=d.t16,d.delegateYield(ve(e.consequent),"t18",30);case 30:return d.t19=d.t18,d.delegateYield(ve(e.test),"t20",32);case 32:return d.t21=d.t20,d.abrupt("return",{type:"ConditionalExpression",alternate:d.t17,consequent:d.t19,test:d.t21});case 34:return d.delegateYield(he(e),"t22",35);case 35:return d.t23=d.t22,d.abrupt("return",{type:"FunctionExpression",value:d.t23});case 37:return d.abrupt("return",{type:"Variable",name:e.name});case 38:return d.delegateYield(ve(e.left),"t24",39);case 39:return d.t25=d.t24,d.t26=e.operator,d.delegateYield(ve(e.right),"t27",42);case 42:return d.t28=d.t27,d.abrupt("return",{type:"BinaryExpression",left:d.t25,operator:d.t26,right:d.t28});case 44:d.t29=e.object.type,d.next="TypeCastExpression"===d.t29?47:57;break;case 47:return t=e.object,r=t.expression,n=t.typeAnnotation,d.delegateYield(Q(n.typeAnnotation),"t30",49);case 49:return a=d.t30,d.delegateYield(H(e.property),"t31",51);case 51:return u=d.t31,d.t32=u,d.delegateYield(ve(r),"t33",54);case 54:return d.t34=d.t33,d.t35=a,d.abrupt("return",{type:"RecordProjection",field:d.t32,object:d.t34,record:d.t35});case 57:return d.delegateYield(D(e.object,"Expected a type annotation on this object to access a member"),"t36",58);case 58:return d.abrupt("return",d.t36);case 59:return d.abrupt("return",pe);case 60:return d.abrupt("return",{type:"Constant",value:e.value});case 61:if(0!==e.properties.length){d.next=63;break}return d.abrupt("return",pe);case 63:return d.delegateYield(D(e,"Unhandled object expression without type annotation"),"t37",64);case 64:return d.abrupt("return",d.t37);case 65:return d.delegateYield(ve(e.expression),"t38",66);case 66:return d.abrupt("return",d.t38);case 67:return d.abrupt("return",{type:"Constant",value:e.value});case 68:d.t39=e.expression.type,d.next="ObjectExpression"===d.t39?71:"StringLiteral"===d.t39?79:84;break;case 71:return d.delegateYield(S(e.expression.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,c,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectProperty"===r.type){e.next=4;break}return e.delegateYield(D(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:if(!r.computed){e.next=7;break}return e.delegateYield(D(r.key,"Unhandled computed property name"),"t1",6);case 6:return e.abrupt("return",e.t1);case 7:return e.delegateYield(de(r),"t2",8);case 8:if(c=e.t2,s=r.value,"type"!==c){e.next=19;break}return e.t3=[],e.t4=Object(x.a)(a),e.delegateYield(fe(s),"t5",14);case 14:return e.t6=e.t5,e.t7=[e.t6],e.t8=e.t3.concat.call(e.t3,e.t4,e.t7),e.t9=u,e.abrupt("return",[e.t8,e.t9]);case 19:return e.t10=a,e.t11=[],e.t12=Object(x.a)(u),e.t13=c,e.delegateYield(ve(s),"t14",24);case 24:return e.t15=e.t14,e.t16={name:e.t13,value:e.t15},e.t17=[e.t16],e.t18=e.t11.concat.call(e.t11,e.t12,e.t17),e.abrupt("return",[e.t10,e.t18]);case 29:case"end":return e.stop()}},e)})),"t40",72);case 72:return c=d.t40,s=Object(J.a)(c,2),i=s[0],o=s[1],d.delegateYield(Q(e.typeAnnotation.typeAnnotation),"t41",77);case 77:return l=d.t41,d.abrupt("return",0===i.length?{type:"RecordInstance",record:l,fields:o}:{type:"SumInstance",constr:i[0],fields:o,sum:l});case 79:return p=e.expression.value,d.t42=p,d.delegateYield(Q(e.typeAnnotation.typeAnnotation),"t43",82);case 82:return d.t44=d.t43,d.abrupt("return",{type:"EnumInstance",instance:d.t42,typName:d.t44});case 84:return d.delegateYield(ve(e.expression),"t45",85);case 85:return d.t46=d.t45,d.delegateYield(X(e.typeAnnotation.typeAnnotation),"t47",87);case 87:return d.t48=d.t47,d.abrupt("return",{type:"TypeCastExpression",expression:d.t46,typeAnnotation:d.t48});case 89:return d.delegateYield(ve(e.argument),"t49",90);case 90:return d.t50=d.t49,d.t51=e.operator,d.abrupt("return",{type:"UnaryExpression",argument:d.t50,operator:d.t51});case 93:return d.delegateYield(q(e),"t52",94);case 94:return d.abrupt("return",d.t52);case 95:case"end":return d.stop()}},le)}function Ye(e){return N(e.map(function(e){var t=e.name,r=e.typ;return N([U,r?P(N(["(",t,U,":",U,te(r),")"])):t])}))}function ke(e,t){return P(N(["{|",L(N(t.map(function(t){var r=t.name,n=t.value;return N([U,P(N([P(N(["".concat(e,".").concat(r),U,":="])),L(N([U,n,";"]))]))])}))),U,"|}"]))}function we(e,t){switch(e.type){case"Record":return 0===e.fields.length?"_":N([].concat(Object(x.a)(t?["'"]:[]),[ke(e.record,e.fields.map(function(e){return{name:e.name,value:e.variable}}))]));case"Variable":return e.name;default:return e}}function Ee(e,t,r,n){return P(N([P(N(["match",U,e,U,"with"])),R].concat(Object(x.a)(t.map(function(e){var t=e.body,r=e.patterns;return P(N([B(U,r.map(function(e){var t=e.fields,r=e.name;return P(N(["|",U,"".concat(n,".").concat(r)].concat(Object(x.a)(t?[U,we({type:"Record",fields:t,record:"".concat(n,".").concat(r)},!1)]:[]))))})),U,"=>",L(N([U,t])),R]))})),Object(x.a)(r?[P(N([P(N(["|",U,"_",U,"=>"])),L(N([U,r])),R]))]:[]),["end"])))}function je(e,t){switch(t.type){case"ArrayExpression":return 0===t.elements.length?"[]":P(N(["[",L(N([U,B(N([";",U]),t.elements.map(function(e){return je(!1,e)}))])),U,"]"]));case"BinaryExpression":return F(e,P(B(U,[je(!0,t.left),t.operator,je(!0,t.right)])));case"CallExpression":return F(e,P(L(B(U,[je(!0,t.callee)].concat(Object(x.a)(t.arguments.map(function(e){return je(!0,e)})))))));case"ConditionalExpression":return F(e,P(N([P(N(["if",U,je(!1,t.test),U,"then"])),L(N([U,je(!1,t.consequent)])),U,"else",L(N([U,je(!1,t.alternate)]))])));case"Constant":return JSON.stringify(t.value);case"EnumDestruct":var r=t.branches,n=t.defaultBranch,a=t.discriminant,u=t.typName;return Ee(je(!1,a),r.map(function(e){var t=e.body,r=e.names;return{body:je(!1,t),patterns:r.map(function(e){return{fields:null,name:e}})}}),n&&je(!1,n),u);case"EnumInstance":return"".concat(t.typName,".").concat(t.instance);case"FunctionExpression":return F(e,P(N([P(N(["fun",L(N([].concat(Object(x.a)(0!==t.value.typParameters.length?[U,ee(t.value.typParameters)]:[]),[Ye(t.value.arguments)]))),U,"=>"])),L(N([U,je(!1,t.value.body)]))])));case"Let":return P(N([P(N(["let",U,we(t.lval,!0),U,":="])),L(N([U,je(!1,t.value)])),U,"in",R,je(!1,t.body)]));case"RecordInstance":return ke(t.record,t.fields.map(function(e){return{name:e.name,value:je(!1,e.value)}}));case"RecordProjection":return P(N([je(!0,t.object),V,".(",L(P(N([V,t.record,".",t.field]))),V,")"]));case"SumDestruct":var c=t.branches,s=t.defaultBranch,i=t.discriminant,o=t.sum;return Ee(je(!1,i),c.map(function(e){var t=e.body,r=e.fields,n=e.name;return{body:je(!1,t),patterns:[{fields:r,name:n}]}}),s&&je(!1,s),o);case"SumInstance":var l="".concat(t.sum,".").concat(t.constr);return F(e,P(N([l,U].concat(Object(x.a)(0!==t.fields.length?[ke(l,t.fields.map(function(e){return{name:e.name,value:je(!1,e.value)}}))]:["tt"])))));case"TypeCastExpression":return P(N(["(",V,je(!0,t.expression),U,":",U,te(t.typeAnnotation),V,")"]));case"UnaryExpression":return F(e,P(N([t.operator,U,je(!0,t.argument)])));case"Variable":return t.name;default:return t}}var Ae=v.a.mark(qe),Se=v.a.mark(Ie),Oe=v.a.mark(Ce),Te=v.a.mark(Ne),De=v.a.mark(Pe);function qe(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(H(e.key),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},Ae)}function Ie(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="StringLiteralTypeAnnotation"===t.t0?3:4;break;case 3:return t.abrupt("return",e.value);case 4:return t.delegateYield(D(e,"Expected a string literal"),"t1",5);case 5:return t.abrupt("return",t.t1);case 6:case"end":return t.stop()}},Se)}function Ce(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="StringLiteralTypeAnnotation"===e.t0?3:4;break;case 3:return e.abrupt("return",t.value);case 4:return e.delegateYield(D(t,"Only strings are handled in enums"),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Enum",names:t});case 3:case"end":return r.stop()}},Oe)}function Ne(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.map(v.a.mark(function e(t){var r,n,a,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeAnnotation"===e.t0?3:16;break;case 3:return e.delegateYield(S(t.properties,[[],[]],v.a.mark(function e(t,r){var n,a,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(J.a)(t,2),a=n[0],u=n[1],"ObjectTypeProperty"===r.type){e.next=4;break}return e.delegateYield(D(r,"Expected a named property"),"t0",3);case 3:return e.abrupt("return",e.t0);case 4:return e.delegateYield(qe(r),"t1",5);case 5:return c=e.t1,e.abrupt("return","type"===c?[[].concat(Object(x.a)(a),[r]),u]:[a,[].concat(Object(x.a)(u),[r])]);case 7:case"end":return e.stop()}},e)})),"t1",4);case 4:if(r=e.t1,n=Object(J.a)(r,2),a=n[0],u=n[1],0!==a.length){e.next=11;break}return e.delegateYield(D(t,"Expected at least one field with the name `type`"),"t2",10);case 10:return e.abrupt("return",e.t2);case 11:return e.delegateYield(Ie(a[0].value),"t3",12);case 12:return e.t4=e.t3,e.delegateYield(A(u.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(qe(t),"t0",1);case 1:return e.t1=e.t0,e.delegateYield(X(t.value),"t2",3);case 3:return e.t3=e.t2,e.abrupt("return",{name:e.t1,typ:e.t3});case 5:case"end":return e.stop()}},e)}))),"t5",14);case 14:return e.t6=e.t5,e.abrupt("return",{name:e.t4,fields:e.t6});case 16:return e.delegateYield(D(t,"Only objects are handled in sum types"),"t7",17);case 17:return e.abrupt("return",e.t7);case 18:case"end":return e.stop()}},e)}))),"t0",1);case 1:return t=r.t0,r.abrupt("return",{type:"Sum",constructors:t});case 3:case"end":return r.stop()}},Te)}function Pe(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield($(e),"t0",1);case 1:if(!(t=n.t0)){n.next=4;break}return n.abrupt("return",{type:"Synonym",typ:t});case 4:n.t1=e.type,n.next="ObjectTypeAnnotation"===n.t1?7:"StringLiteralTypeAnnotation"===n.t1?15:"UnionTypeAnnotation"===n.t1?17:28;break;case 7:return n.delegateYield(T(e.properties,v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="ObjectTypeProperty"===e.t0?3:6;break;case 3:return e.delegateYield(qe(t),"t1",4);case 4:return e.t2=e.t1,e.abrupt("return","type"===e.t2);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),"t2",8);case 8:if(!n.t2){n.next=12;break}return n.delegateYield(Ne([e]),"t3",11);case 11:return n.abrupt("return",n.t3);case 12:return n.delegateYield(A(e.properties.map(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ObjectTypeProperty"===t.type){e.next=3;break}return e.delegateYield(D(t,"Expected named property"),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:return e.delegateYield(qe(t),"t1",4);case 4:return e.t2=e.t1,e.delegateYield(X(t.value),"t3",6);case 6:return e.t4=e.t3,e.abrupt("return",{name:e.t2,typ:e.t4});case 8:case"end":return e.stop()}},e)}))),"t4",13);case 13:return r=n.t4,n.abrupt("return",{type:"Record",fields:r});case 15:return n.delegateYield(Ce([e]),"t5",16);case 16:return n.abrupt("return",n.t5);case 17:if(0!==e.types.length){n.next=19;break}return n.abrupt("return",{type:"Synonym",typ:{type:"Variable",name:"Empty_set"}});case 19:n.t6=e.types[0].type,n.next="ObjectTypeAnnotation"===n.t6?22:"StringLiteralTypeAnnotation"===n.t6?24:26;break;case 22:return n.delegateYield(Ne(e.types),"t7",23);case 23:return n.abrupt("return",n.t7);case 24:return n.delegateYield(Ce(e.types),"t8",25);case 25:return n.abrupt("return",n.t8);case 26:return n.delegateYield(D(e,"Only handle unions of strings or objects with a `type` field"),"t9",27);case 27:return n.abrupt("return",n.t9);case 28:return n.delegateYield(q(e),"t10",29);case 29:return n.abrupt("return",n.t10);case 30:case"end":return n.stop()}},De)}function Re(e,t){return P(N([P(N(["Module",U,e,"."])),L(N([R,t])),P(N([R,"End",U,e,"."]))]))}function Le(e,t){return N([P(N(["Record",U,"t",U,":=",U,"{"])),L(N(t.map(function(e){var t=e.name,r=e.typ;return N([R,t,U,":",U,te(r),V,";"])}))),R,"}."])}function Be(e){return P(N(["Definition",U,e,U,":=",U,"".concat(e,".t"),"."]))}var Ue=v.a.mark(Fe),Ve=v.a.mark(Je);function Fe(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="ArrayPattern"===t.t0?3:"AssignmentPattern"===t.t0?5:"Identifier"===t.t0?7:"MemberExpression"===t.t0?8:"ObjectPattern"===t.t0?10:"RestElement"===t.t0?12:14;break;case 3:return t.delegateYield(D(e,"Array destructuring at top-level is not allowed due to limitations in Coq"),"t1",4);case 4:return t.abrupt("return",t.t1);case 5:return t.delegateYield(D(e,"Unexpected assignement pattern"),"t2",6);case 6:return t.abrupt("return",t.t2);case 7:return t.abrupt("return",e);case 8:return t.delegateYield(D(e,"Unexpected member expression"),"t3",9);case 9:return t.abrupt("return",t.t3);case 10:return t.delegateYield(D(e,"Object destructuring at top-level is not allowed due to limitations in Coq"),"t4",11);case 11:return t.abrupt("return",t.t4);case 12:return t.delegateYield(D(e,"Rest element unexpected outside a pattern"),"t5",13);case 13:return t.abrupt("return",t.t5);case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}},Ue)}function Je(e){var t,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="BlockStatement"===n.t0?3:"BreakStatement"===n.t0?5:"ClassDeclaration"===n.t0?7:"ContinueStatement"===n.t0?9:"DebuggerStatement"===n.t0?11:"DeclareClass"===n.t0?12:"DeclareExportAllDeclaration"===n.t0?12:"DeclareExportDeclaration"===n.t0?12:"DeclareFunction"===n.t0?12:"DeclareInterface"===n.t0?12:"DeclareModule"===n.t0?12:"DeclareModuleExports"===n.t0?12:"DeclareOpaqueType"===n.t0?12:"DeclareTypeAlias"===n.t0?12:"DeclareVariable"===n.t0?12:"DoWhileStatement"===n.t0?13:"EmptyStatement"===n.t0?15:"ExportAllDeclaration"===n.t0?16:"ExportDefaultDeclaration"===n.t0?18:"ExportNamedDeclaration"===n.t0?20:"ExpressionStatement"===n.t0?28:"ForInStatement"===n.t0?30:"ForOfStatement"===n.t0?32:"ForStatement"===n.t0?34:"FunctionDeclaration"===n.t0?36:"IfStatement"===n.t0?46:"ImportDeclaration"===n.t0?48:"InterfaceDeclaration"===n.t0?52:"LabeledStatement"===n.t0?54:"OpaqueType"===n.t0?56:"ReturnStatement"===n.t0?61:"SwitchStatement"===n.t0?63:"ThrowStatement"===n.t0?65:"TryStatement"===n.t0?67:"TypeAlias"===n.t0?69:"VariableDeclaration"===n.t0?74:"WhileStatement"===n.t0?76:"WithStatement"===n.t0?78:80;break;case 3:return n.delegateYield(D(e,"Blocks are not handled at top-level"),"t1",4);case 4:return n.abrupt("return",n.t1);case 5:return n.delegateYield(D(e,"Unexpected `break` at top-level"),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:return n.delegateYield(D(e,"Class declarations are not handled"),"t3",8);case 8:return n.abrupt("return",n.t3);case 9:return n.delegateYield(D(e,"Unexpected `continue` at top-level"),"t4",10);case 10:return n.abrupt("return",n.t4);case 11:case 12:return n.abrupt("return",[]);case 13:return n.delegateYield(D(e,"Do-while loops are not handled"),"t5",14);case 14:return n.abrupt("return",n.t5);case 15:return n.abrupt("return",[]);case 16:return n.delegateYield(D(e,"Export all are not handled"),"t6",17);case 17:return n.abrupt("return",n.t6);case 18:return n.delegateYield(D(e,"Export default is not handled"),"t7",19);case 19:return n.abrupt("return",n.t7);case 20:if(!e.declaration){n.next=25;break}return n.delegateYield(Je(e.declaration),"t9",22);case 22:n.t8=n.t9,n.next=27;break;case 25:return n.delegateYield(D(e,"This kind of export is not handled"),"t10",26);case 26:n.t8=n.t10;case 27:return n.abrupt("return",n.t8);case 28:return n.delegateYield(D(e,"Top-level expressions are not handled"),"t11",29);case 29:return n.abrupt("return",n.t11);case 30:return n.delegateYield(D(e,"For-in loops are not handled"),"t12",31);case 31:return n.abrupt("return",n.t12);case 32:return n.delegateYield(D(e,"For-of loops are not handled"),"t13",33);case 33:return n.abrupt("return",n.t13);case 34:return n.delegateYield(D(e,"For loops are not handled"),"t14",35);case 35:return n.abrupt("return",n.t14);case 36:return n.delegateYield(he(e),"t15",37);case 37:if(t=n.t15,!e.id){n.next=42;break}n.t16=e.id.name,n.next=44;break;case 42:return n.delegateYield(D(e,"Expected named function"),"t17",43);case 43:n.t16=n.t17;case 44:return r=n.t16,n.abrupt("return",[{type:"Definition",arguments:t.arguments,body:t.body,name:r,returnTyp:t.returnTyp,typParameters:t.typParameters}]);case 46:return n.delegateYield(D(e,"If at top-level are not handled"),"t18",47);case 47:return n.abrupt("return",n.t18);case 48:if("react"!==e.source.value){n.next=50;break}return n.abrupt("return",[]);case 50:return n.delegateYield(D(e,"Only the imports from React are handled"),"t19",51);case 51:return n.abrupt("return",n.t19);case 52:return n.delegateYield(D(e,"Interface declarations are not handled"),"t20",53);case 53:return n.abrupt("return",n.t20);case 54:return n.delegateYield(D(e,"Labeled statements are not handled"),"t21",55);case 55:return n.abrupt("return",n.t21);case 56:return n.t22=W(e.id),n.delegateYield(Pe(e.impltype),"t23",58);case 58:return n.t24=n.t23,n.t25={type:"TypeDefinition",name:n.t22,typDefinition:n.t24},n.abrupt("return",[n.t25]);case 61:return n.delegateYield(D(e,"Unexpected `return` at top-level"),"t26",62);case 62:return n.abrupt("return",n.t26);case 63:return n.delegateYield(D(e,"Top-level switch are not handled"),"t27",64);case 64:return n.abrupt("return",n.t27);case 65:return n.delegateYield(D(e,"Throw statements are not handled"),"t28",66);case 66:return n.abrupt("return",n.t28);case 67:return n.delegateYield(D(e,"Try statements are not handled"),"t29",68);case 68:return n.abrupt("return",n.t29);case 69:return n.t30=W(e.id),n.delegateYield(Pe(e.right),"t31",71);case 71:return n.t32=n.t31,n.t33={type:"TypeDefinition",name:n.t30,typDefinition:n.t32},n.abrupt("return",[n.t33]);case 74:return n.delegateYield(A(e.declarations.map(v.a.mark(function e(t){var r,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Fe(t.id),"t0",1);case 1:if(r=e.t0,n=r.typeAnnotation?r.typeAnnotation.typeAnnotation:null,e.t1=[],!t.init){e.next=9;break}return e.delegateYield(ve(t.init),"t3",6);case 6:e.t2=e.t3,e.next=11;break;case 9:return e.delegateYield(D(t,"Expected definition"),"t4",10);case 10:e.t2=e.t4;case 11:if(e.t5=e.t2,e.t6=r.name,e.t7=n,!e.t7){e.next=17;break}return e.delegateYield(X(n),"t8",16);case 16:e.t7=e.t8;case 17:return e.t9=e.t7,e.t10=[],e.abrupt("return",{type:"Definition",arguments:e.t1,body:e.t5,name:e.t6,returnTyp:e.t9,typParameters:e.t10});case 20:case"end":return e.stop()}},e)}))),"t34",75);case 75:return n.abrupt("return",n.t34);case 76:return n.delegateYield(D(e,"While loops are not handled"),"t35",77);case 77:return n.abrupt("return",n.t35);case 78:return n.delegateYield(D(e,"With statements are not handled"),"t36",79);case 79:return n.abrupt("return",n.t36);case 80:return n.abrupt("return",e);case 81:case"end":return n.stop()}},Ve)}function Me(e){switch(e.type){case"Definition":return P(N([P(N(["Definition",U,e.name])),L(N([].concat(Object(x.a)(0!==e.typParameters.length?[U,ee(e.typParameters)]:[]),[Ye(e.arguments),U,(t=e.returnTyp,r=":=",P(N([].concat(Object(x.a)(t?[":",U,te(t),U]:[]),[r])))),R,je(!1,e.body),"."])))]));case"TypeDefinition":return function(e,t){switch(t.type){case"Enum":var r=Re(e,N([P(N(["Inductive",U,"t",U,":="]))].concat(Object(x.a)(t.names.map(function(e){return P(N([R,"|",U,e]))})),["."])));return N([r,R,Be(e)]);case"Record":return N([Re(e,Le(0,t.fields)),R,Be(e)]);case"Sum":var n=Re(e,N([B(N([R,R]),[].concat(Object(x.a)(re(t.constructors,function(e){return 0!==e.fields.length?Re(e.name,Le(0,e.fields)):null})),[P(N([P(N(["Inductive",U,"t",U,":="]))].concat(Object(x.a)(t.constructors.map(function(e){var t=e.name,r=e.fields;return P(N([R,"|",U,t,U,"(",V,"_",U,":",U].concat(Object(x.a)(0!==r.length?[t,".t"]:["unit"]),[V,")"])))})),["."])))]))]));return N([n,R,Be(e)]);case"Synonym":return P(N([P(N(["Definition",U,e,U,":",U,"Type",U,":="])),L(N([U,te(t.typ),"."]))]));default:return t}}(e.name,e.typDefinition);default:return e}var t,r}var We=v.a.mark(_e);function _e(e){var t;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(A(e.body.map(function(e){return Je(e)})),"t0",1);case 1:return t=r.t0,r.abrupt("return",t.reduce(function(e,t){return[].concat(Object(x.a)(e),Object(x.a)(t))},[]));case 3:case"end":return r.stop()}},We)}var Ge='/* Basic definitions */\n\nconst\n  b: boolean = false && true,\n  n: number = -12 + 23;\n\nconst s = "hi";\n\nconst a = [1, (2 : number), 3];\n\nconst cond = b ? "a" : \'b\';\n\n/* Functions */\n\nfunction id<A>(x: A): A {\n  return x;\n}\n\nfunction basicTypes(n: number, m: number): string {\n  return "OK";\n}\n\nconst r = id(basicTypes(12, 23));\n\nconst f = function<A> (x : A, y : A): bool {\n  return true;\n}\n\nconst arrow = x => x + 1;\n\n/* Records */\n\ntype Rec = {\n  a: string,\n  b: number,\n  c: boolean\n};\n\nconst o = ({a: "hi", b: 12, c: false}: Rec);\n\nconst hi = (o: Rec).a;\n\nconst getHi = (o: Rec) => {\n  const {a: hi}: Rec = o;\n  return hi;\n};\n\n/* Enums */\n\ntype Enum = "aa" | "bb" | "gg";\n\nconst aa = ("aa": Enum);\n\nfunction getEnumIndex(e: Enum): number {\n  switch ((e: Enum)) {\n    case "aa":\n      return 0;\n    case "bb":\n      return 1;\n    default:\n      return 2;\n  }\n}\n\n/* Algebraic data types */\n\ntype Status =\n  | {\n      type: "Error",\n      message: string,\n    }\n  | {\n      type: "Loading",\n    }\n  | {\n      type: "Nothing",\n    };\n\nconst status: Status = ({type: "Error", message: "hi"}: Status);\n\nfunction getMessage(status: Status): string {\n  switch ((status: Status).type) {\n    case "Error": {\n      const {message} = status;\n      return message;\n    }\n    case "Loading":\n      return "loading...";\n    case "Nothing":\n      return "";\n    default:\n      return (status: empty);\n  }\n}\n',Ze=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.output;return a.a.createElement("code",null,a.a.createElement("pre",null,e))}}]),t}(n.PureComponent);r(65);function ze(){if("undefined"!==typeof window){var e=window.sessionStorage.getItem("jsInput");return"string"===typeof e?e:Ge}return Ge}var He=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(r=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={jsInput:ze()},r.onChangeJsInput=function(e){var t=e.currentTarget.value;r.setState({jsInput:t}),"undefined"!==typeof window&&window.sessionStorage.setItem("jsInput",t)},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"getJsAst",value:function(e){try{return Object(m.parse)(e,{plugins:["flow","jsx"],sourceType:"module"})}catch(r){var t=r.loc;return"".concat(r.message,"\n\n").concat(b()(e,t.line,t.column))}}},{key:"getCoqAst",value:function(e,t){try{var r=I(_e(t.program));switch(r.type){case"Error":return function(e,t){return t.map(function(t){var r=Object(g.codeFrameColumns)(e,t.location);return"".concat(r,"\n\n").concat(t.message)}).join("\n\n**********************\n\n")}(e,r.errors);case"Success":return r.value;default:return r}}catch(n){return n.message}}},{key:"getCoqString",value:function(e){return y.a.printer.printDocToString((t=e,r=!0,P(B(N([R,R]),[].concat(Object(x.a)(r?["(* Generated by coq-of-js *)\nRequire Import Coq.Lists.List.\nRequire Import Coq.Strings.String.\nRequire Import Coq.ZArith.ZArith.\n\nImport ListNotations.\nLocal Open Scope string.\nLocal Open Scope Z."]:[]),Object(x.a)(t.map(function(e){return Me(e)})))))),{printWidth:60,tabWidth:2}).formatted;var t,r}},{key:"getOutputs",value:function(e){var t=this.getJsAst(e);if("string"===typeof t)return{coq:t,coqAst:"",jsAst:""};var r=this.getCoqAst(e,t);return"string"===typeof r?{coq:r,coqAst:"",jsAst:""}:{coq:this.getCoqString(r),coqAst:JSON.stringify(r,null,2),jsAst:JSON.stringify(t,null,2)}}},{key:"render",value:function(){var e=this.state.jsInput,t=this.getOutputs(e),r=t.coq,n=t.coqAst,u=t.jsAst;return a.a.createElement("div",null,a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,a.a.createElement("span",{className:"logo"},a.a.createElement("span",{"aria-label":"globe",role:"img"},"\ud83c\udf0d")," ",a.a.createElement("span",{"aria-label":"rooster",role:"img"},"\ud83d\udc13")),"coq-of-js",a.a.createElement("a",{className:"sub-title",href:"https://github.com/clarus/coq-of-js"},"Sources"))),a.a.createElement("div",{className:"split js-source"},a.a.createElement("h2",null,"JavaScript editor"),a.a.createElement("textarea",{onChange:this.onChangeJsInput,value:e})),a.a.createElement("div",{className:"split coq-source"},a.a.createElement("h2",null,"Generated Coq"),a.a.createElement(Ze,{output:r})),a.a.createElement("div",{className:"split js-ast"},a.a.createElement("h2",null,"JavaScript AST"),a.a.createElement(Ze,{output:u})),a.a.createElement("div",{className:"split coq-ast"},a.a.createElement("h2",null,"Coq AST"),a.a.createElement(Ze,{output:n})))}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=document.getElementById("root");Ke&&c.a.render(a.a.createElement(He,null),Ke),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.d7cfea56.chunk.js.map